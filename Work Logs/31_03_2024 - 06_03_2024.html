
				<!DOCTYPE html>
				<html>
					<head>
						<meta charset="UTF-8">
						<meta name="viewport" content="width=device-width, initial-scale=1" />
						<link rel="stylesheet" href="pluginAssets/katex/katex.css"><script type="application/javascript" src="pluginAssets/mermaid/mermaid.min.js"></script><script type="application/javascript" src="pluginAssets/mermaid/mermaid_render.js"></script><link rel="stylesheet" href="pluginAssets/highlight.js/atom-one-light.css">
						<title>31/03/2024 - 06/03/2024</title>
					</head>
					<body>
						<div class="exported-note"><div class="exported-note-title">31/03/2024 - 06/03/2024</div>

<style>
		/* https://necolas.github.io/normalize.css/ */
		html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}
		article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}
		pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}
		b,strong{font-weight:bolder}small{font-size:80%}img{border-style:none}

		body {
			font-size: 15px;
			color: #32373F;
			word-wrap: break-word;
			line-height: 1.6em;
			background-color: #ffffff;
			font-family: 'Avenir', 'Arial', sans-serif;
			padding-bottom: 0px;
			padding-top: 0px;
		}
		kbd {
			border: 1px solid rgb(220, 220, 220);
			box-shadow: inset 0 -1px 0 rgb(220, 220, 220);
			padding: 2px 4px;
			border-radius: 3px;
			background-color: rgb(243, 243, 243);
		}
		::-webkit-scrollbar {
			width: 7px;
			height: 7px;
		}
		::-webkit-scrollbar-corner {
			background: none;
		}
		::-webkit-scrollbar-track {
			border: none;
		}
		::-webkit-scrollbar-thumb {
			background: rgba(100, 100, 100, 0.3); 
			border-radius: 5px;
		}
		::-webkit-scrollbar-track:hover {
			background: rgba(0, 0, 0, 0.1); 
		}
		::-webkit-scrollbar-thumb:hover {
			background: rgba(100, 100, 100, 0.7); 
		}

		

		/* Remove top padding and margin from first child so that top of rendered text is aligned to top of text editor text */

		#rendered-md > h1:first-child,
		#rendered-md > h2:first-child,
		#rendered-md > h3:first-child,
		#rendered-md > h4:first-child,
		#rendered-md > ul:first-child,
		#rendered-md > ol:first-child,
		#rendered-md > table:first-child,
		#rendered-md > blockquote:first-child,
		#rendered-md > img:first-child,
		#rendered-md > p:first-child {
			margin-top: 0;
			padding-top: 0;
		}
		
		p, h1, h2, h3, h4, h5, h6, ul, table {
			margin-top: .6em;
			margin-bottom: 1.35em;

			/*
				Adds support for RTL text in the note body. It automatically detects the direction using the content.
				Issue: https://github.com/laurent22/joplin/issues/3991
			*/
			unicode-bidi: plaintext;
		}

		h1, h2, h3, h4, h5, h6, ul, table {
			margin-bottom: 0.65em;
		}

		h1, h2, h3, h4, h5, h6 {
			line-height: 1.5em;
		}
		h1 {
			font-size: 1.5em;
			font-weight: bold;
			border-bottom: 1px solid #dddddd;
			padding-bottom: .3em;
		}
		h2 {
			font-size: 1.3em;
			font-weight: bold;
			padding-bottom: .1em; */
		}
		h3 {
			font-size: 1.1em;
			font-weight: bold;
		}
		h4, h5, h6 {
			font-size: 1em;
			font-weight: bold;
		}

		.exported-note-title {
			font-size: 2em;
			font-weight: bold;
			margin-bottom: 0.8em;
			line-height: 1.5em;
			padding-bottom: .35em;
			border-bottom: 1px solid #dddddd;
		}

		a {
			color: #155BDA;
		}
		ul, ol {
			padding-left: 0;
			margin-left: 1.7em;
		}
		li {
			margin-bottom: .4em;
		}
		li p {
			margin-top: 0.2em;
			margin-bottom: 0;
		}

		.resource-icon {
			display: inline-block;
			position: relative;
			top: 0.3em;
			text-decoration: none;
			width: 1.2em;
			height: 1.4em;
			margin-right: 0.4em;
			background-color:  #155BDA;
		}
    /* These icons are obtained from the wonderful ForkAwesome project by copying the src svgs 
     * into the css classes below.
     * svgs are obtained from https://github.com/ForkAwesome/Fork-Awesome/tree/master/src/icons/svg
     * instead of the svg width, height property you must use a viewbox here, 0 0 1536 1792 is typically the actual size of the icon
     * each line begins with the pre-amble -webkit-mask: url("data:image/svg+xml;utf8,
     * and of course finishes with ");
     * to prevent artifacts it is also necessary to include -webkit-mask-repeat: no-repeat;
     * on the following line
     * */
		.fa-joplin {
			/* Awesome Font file */
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M373.834 128C168.227 128 0 296.223 0 501.834v788.336C0 1495.778 168.227 1664 373.834 1664h788.336c205.608 0 373.83-168.222 373.83-373.83V501.834C1536 296.224 1367.778 128 1162.17 128zm397.222 205.431h417.424a7.132 7.132 0 0 1 7.132 7.133v132.552c0 4.461-3.619 8.073-8.077 8.073h-57.23c-24.168 0-43.768 19.338-44.284 43.374v2.377h-.017v136.191h-.053l-.466 509.375c-5.02 77.667-39.222 149.056-96.324 201.046-60.28 54.834-141.948 85.017-229.962 85.017-12.45 0-25.208-.61-37.907-1.785-92.157-8.682-181.494-48.601-251.662-112.438-71.99-65.517-117.147-150.03-127.164-238-11.226-98.763 23.42-192.783 95.045-257.937 81.99-74.637 198.185-101.768 316.613-75.704 5.574 1.227 9.55 6.282 9.55 11.997v199.52c-.199 2.625-1.481 6.599-8.183 2.896-.663-.365-1.194-.511-1.653-.531-21.987-10.587-45.159-17.57-68.559-19.916-.38-.04-.757-.124-1.138-.163-.537-.048-1.034-.033-1.556-.075-4.13-.354-8.183-.517-12.203-.58-.87-.011-1.771-.127-2.641-.127-.486 0-.951.05-1.437.057-1.464.011-2.886.115-4.33.163-2.76.102-5.497.211-8.182.448-.273.024-.547.07-.835.097-25.509 2.4-47.864 11.104-65.012 25.47-.954.802-1.974 1.53-2.9 2.36a1.34 1.34 0 0 1-.168.146c-23.96 21.8-34.881 53.872-30.726 90.316 4.62 40.737 26.94 81.156 62.841 113.823 35.908 32.67 80.335 52.977 125.113 57.186 35.118 3.36 66.547-3.919 89.899-20.461a97.255 97.255 0 0 0 9.365-7.501c2.925-2.661 5.569-5.5 8.086-8.416.3-.348.672-.673.975-1.024 8.253-9.864 14.222-21.067 17.996-33.148.639-2.034 1.051-4.148 1.564-6.227.381-1.563.81-3.106 1.112-4.693.555-2.784.923-5.632 1.253-8.49.086-.709.183-1.414.237-2.128.492-4.893.693-9.858.55-14.91h.013V521.623c-2.01-22.626-20.78-40.434-43.928-40.434h-57.23a8.071 8.071 0 0 1-8.077-8.073V340.564a7.132 7.132 0 0 1 7.136-7.133z'/></svg>");
		}
		.fa-file-image {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-128-448v320H256v-192l192-192 128 128 384-384zm-832-192c-106 0-192-86-192-192s86-192 192-192 192 86 192 192-86 192-192 192z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-pdf {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-514-593c25 20 53 38 84 56 42-5 81-7 117-7 67 0 152 8 177 49 7 10 13 28 2 52-1 1-2 3-3 4v1c-3 18-18 38-71 38-64 0-161-29-245-73-139 15-285 46-392 83-103 176-182 262-242 262-10 0-19-2-28-7l-24-12c-3-1-4-3-6-5-5-5-9-16-6-36 10-46 64-123 188-188 8-5 18-2 23 6 1 1 2 3 2 4 31-51 67-116 107-197 45-90 80-178 104-262-32-109-42-221-24-287 7-25 22-40 42-40h22c15 0 27 5 35 15 12 14 15 36 9 68-1 3-2 6-4 8 1 3 1 5 1 8v30c-1 63-2 123-14 192 35 105 87 190 146 238zm-576 411c30-14 73-57 137-158-75 58-122 124-137 158zm398-920c-10 28-10 76-2 132 3-16 5-31 7-44 2-17 5-31 7-43 1-3 2-5 4-8-1-1-1-3-2-5-1-18-7-29-13-36 0 2-1 3-1 4zm-124 661c88-35 186-63 284-81-10-8-20-15-29-23-49-43-93-103-127-176-19 61-47 126-83 197-15 28-30 56-45 83zm646-16c-5-5-31-24-140-24 49 18 94 28 124 28 9 0 14 0 18-1 0-1-1-2-2-3z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-word {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM233 768v107h70l164 661h159l128-485c5-15 8-30 10-46 1-8 2-16 2-24h4l3 24c3 14 4 30 9 46l128 485h159l164-661h70V768h-300v107h90l-99 438c-4 16-6 33-7 46l-2 21h-4c0-6-2-14-3-21-3-13-5-30-9-46L825 768H711l-144 545c-4 16-5 33-8 46l-4 21h-4l-2-21c-1-13-3-30-7-46l-99-438h90V768H233z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-powerpoint {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-992-234v106h327v-106h-93v-167h137c43 0 82-2 118-15 90-31 146-124 146-233s-54-193-137-228c-38-15-84-19-130-19H416v107h92v555h-92zm353-280H650V882h120c35 0 62 6 83 18 36 21 56 62 56 115 0 56-20 99-62 120-21 10-47 15-78 15z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-excel {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-979-234v106h281v-106h-75l103-161c12-19 18-34 21-34h2c1 4 3 7 5 10 4 8 10 14 17 24l107 161h-76v106h291v-106h-68l-192-273 195-282h67V768H828v107h74l-103 159c-12 19-21 34-21 33h-2c-1-4-3-7-5-10-4-7-9-14-17-23L648 875h76V768H434v107h68l189 272-194 283h-68z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-audio {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM620 850c12 5 20 17 20 30v544c0 13-8 25-20 30-4 1-8 2-12 2-8 0-16-3-23-9l-166-167H288c-18 0-32-14-32-32v-192c0-18 14-32 32-32h131l166-167c10-9 23-12 35-7zm417 689c19 0 37-8 50-24 83-102 129-231 129-363s-46-261-129-363c-22-28-63-32-90-10-28 23-32 63-9 91 65 80 100 178 100 282s-35 202-100 282c-23 28-19 68 9 90 12 10 26 15 40 15zm-211-148c17 0 34-7 47-20 56-60 87-137 87-219s-31-159-87-219c-24-26-65-27-91-3-25 24-27 65-2 91 33 36 52 82 52 131s-19 95-52 131c-25 26-23 67 2 91 13 11 29 17 44 17z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-video {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM768 768c70 0 128 58 128 128v384c0 70-58 128-128 128H384c-70 0-128-58-128-128V896c0-70 58-128 128-128h384zm492 2c12 5 20 17 20 30v576c0 13-8 25-20 30-4 1-8 2-12 2-8 0-17-3-23-9l-265-266v-90l265-266c6-6 15-9 23-9 4 0 8 1 12 2z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-archive {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M640 384V256H512v128h128zm128 128V384H640v128h128zM640 640V512H512v128h128zm128 128V640H640v128h128zm700-388c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H768v128H640V128H128v1536h1280zM781 943c85 287 107 349 107 349 5 17 8 34 8 52 0 111-108 192-256 192s-256-81-256-192c0-18 3-35 8-52 0 0 21-62 120-396V768h128v128h79c29 0 54 19 62 47zm-141 465c71 0 128-29 128-64s-57-64-128-64-128 29-128 64 57 64 128 64z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-code {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM480 768c11-14 31-17 45-6l51 38c14 11 17 31 6 45l-182 243 182 243c11 14 8 34-6 45l-51 38c-14 11-34 8-45-6l-226-301c-8-11-8-27 0-38zm802 301c8 11 8 27 0 38l-226 301c-11 14-31 17-45 6l-51-38c-14-11-17-31-6-45l182-243-182-243c-11-14-8-34 6-45l51-38c14-11 34-8 45 6zm-620 461c-18-3-29-20-26-37l138-831c3-18 20-29 37-26l63 10c18 3 29 20 26 37l-138 831c-3 18-20 29-37 26z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-alt, .fa-file-csv {
      /* fork-awesome doesn't have csv so we use the text icon */
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM384 800c0-18 14-32 32-32h704c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64zm736 224c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64c0-18 14-32 32-32h704zm0 256c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64c0-18 14-32 32-32h704z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		blockquote {
			border-left: 4px solid rgb(220, 220, 220);
			padding-left: 1.2em;
			margin-left: 0;
			opacity: 0.7;
		}

		.jop-tinymce table,
		table {
			text-align: left;
			border-collapse: collapse;
			border: 1px solid rgb(220, 220, 220);
			background-color: #ffffff;
		}

		.jop-tinymce table td, .jop-tinymce table th,
		table td, th {
			text-align: left;
			padding: .5em 1em .5em 1em;
			font-size: 15;
			color: #32373F;
			font-family: 'Avenir', 'Arial', sans-serif;
		}

		.jop-tinymce table td,
		table td {
			border: 1px solid rgb(220, 220, 220);
		}

		.jop-tinymce table th,
		table th {
			border: 1px solid rgb(220, 220, 220);
			border-bottom: 2px solid rgb(220, 220, 220);
			background-color: rgb(247, 247, 247);
		}

		.jop-tinymce table tr:nth-child(even),
		table tr:nth-child(even) {
			background-color: rgb(247, 247, 247);
		}

		.jop-tinymce table tr:hover,
		table tr:hover {
			background-color: #e5e5e5;
		}

		hr {
			border: none;
			border-bottom: 2px solid #dddddd;
		}
		img {
			max-width: 100%;
			height: auto;
		}
		
		.inline-code,
		.mce-content-body code {
			border: 1px solid rgb(220, 220, 220);
			background-color: rgb(243, 243, 243);
			padding-right: .2em;
			padding-left: .2em;
			border-radius: .25em;
			color: rgb(0,0,0);
			font-size: .9em;
		}

		.highlighted-keyword {
			background-color: #F3B717;
			color: black;
		}

		.not-loaded-resource img {
			width: 1.15em;
			height: 1.15em;
			background: white;
			padding: 2px !important;
			border-radius: 2px;
			box-shadow: 0 1px 3px #000000aa;
		}

		a.not-loaded-resource img {
			margin-right: .2em;
		}

		a.not-loaded-resource {
			display: flex;
			flex-direction: row;
			align-items: center;
		}

		.md-checkbox input[type=checkbox]:checked {
			opacity: 0.7;
		}

		.jop-tinymce ul.joplin-checklist .checked,
		.md-checkbox .checkbox-label-checked {
			opacity: 0.5;
		}

		.exported-note {
			padding: 1em;
		}

		.joplin-editable .joplin-source {
			display: none;
		}

		mark {
			background: #F7D26E;
			color: black;
		}

		/* =============================================== */
		/* For TinyMCE */
		/* =============================================== */

		.mce-content-body {
			/* Note: we give a bit more padding at the bottom, to allow scrolling past the end of the document */
			padding: 5px 10px 10em 0;
		}

		/*
		.mce-content-body code {
			background-color: transparent;
		}
		*/

		.mce-content-body [data-mce-selected=inline-boundary] {
			background-color: transparent;
		}

		.mce-content-body .joplin-editable {
			cursor: pointer !important;
		}

		.mce-content-body.mce-content-readonly {
			opacity: 0.5;
		}

		/* We need that to make sure click events have the A has a target */
		.katex a span {
			pointer-events: none;
		}

		.media-player {
			width: 100%;
			margin-top: 10px;
		}

		.media-player.media-pdf {
			min-height: 35rem;
			width: 100%;
			max-width: 1000px;
			margin: 0;
			border: 0;
			display: block;
		}

		/* Clear the CODE style if the element is within a joplin-editable block */
		.mce-content-body .joplin-editable code {
			border: none;
			background: none;
			padding: 0;
			color: inherit;
			font-size: inherit;
		}

		/* To make code blocks horizontally scrollable */
		/* https://github.com/laurent22/joplin/issues/5740 */
		pre.hljs {
			overflow-x: auto;
		}

		/* =============================================== */
		/* For TinyMCE */
		/* =============================================== */

		@media print {
			body {
				height: auto !important;
			}

			pre {
				white-space: pre-wrap;
			}

			.code, .inline-code {
				border: 1px solid #CBCBCB;
			}

			#joplin-container-content {
				/* The height of the content is set dynamically by JavaScript (in updateBodyHeight) to go
				   around various issues related to scrolling. However when printing we don't want this
				   fixed size as that would crop the content. So we set it to auto here. "important" is
				   needed to override the style set by JavaScript at the element-level. */
				height: auto !important;
			}
		}
	

				/*
					FOR THE MARKDOWN EDITOR
				*/

				/* Remove the indentation from the checkboxes at the root of the document
				   (otherwise they are too far right), but keep it for their children to allow
				   nested lists. Make sure this value matches the UL margin. */

				li.md-checkbox {
					list-style-type: none;
				}

				li.md-checkbox input[type=checkbox] {
					margin-left: -1.71em;
					margin-right: 0.7em;
				}
				
				ul.joplin-checklist {
					list-style:none;
				}

				/*
					FOR THE RICH TEXT EDITOR
				*/

				ul.joplin-checklist li::before {
					content:"\f14a";
					font-family:"Font Awesome 5 Free";
					background-size: 16px 16px;
					pointer-events: all;
					cursor: pointer;
					width: 1em;
					height: 1em;
					margin-left: -1.3em;
					position: absolute;
					color: #32373F;
				}

				.joplin-checklist li:not(.checked)::before {
					content:"\f0c8";
				}
.mermaid { width: 640px; }
.mermaid-export-graph {
					opacity: 0;
					height: 0;
					z-index: 1;
					position: relative;
				} 
				.joplin-editable:hover .mermaid-export-graph,
				.joplin-editable .mermaid-export-graph:has(:focus-visible) {
					opacity: 1;
				}
				.mermaid-export-graph > button:hover {
					background-color: #CBDAF1 !important;
				}</style><div id="rendered-md"><h2 id="31032024-1820">31/03/2024 18:20</h2>
<p>I was able to finally get everything to ping at once, without turning off and on ports:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]# ping 192.168.1.41
PING 192.168.1.41 (192.168.1.41) 56(84) bytes of data.
64 bytes from 192.168.1.41: icmp_seq=1 ttl=255 time=0.477 ms
^C
--- 192.168.1.41 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.477/0.477/0.477/0.000 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]# ping 192.168.1.150
PING 192.168.1.150 (192.168.1.150) 56(84) bytes of data.
64 bytes from 192.168.1.150: icmp_seq=1 ttl=64 time=0.098 ms
64 bytes from 192.168.1.150: icmp_seq=2 ttl=64 time=0.062 ms
^C
--- 192.168.1.150 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.062/0.080/0.098/0.018 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#</pre><pre class="hljs"><code>[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#<span class="hljs-built_in"> ping </span>192.168.1.41<span class="hljs-built_in">
PING </span>192.168.1.41 (192.168.1.41) 56(84) bytes of data.
64 bytes <span class="hljs-keyword">from</span> 192.168.1.41: <span class="hljs-attribute">icmp_seq</span>=1 <span class="hljs-attribute">ttl</span>=255 <span class="hljs-attribute">time</span>=0.477 ms
^C
--- 192.168.1.41<span class="hljs-built_in"> ping </span>statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.477/0.477/0.477/0.000 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#<span class="hljs-built_in"> ping </span>192.168.1.150<span class="hljs-built_in">
PING </span>192.168.1.150 (192.168.1.150) 56(84) bytes of data.
64 bytes <span class="hljs-keyword">from</span> 192.168.1.150: <span class="hljs-attribute">icmp_seq</span>=1 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.098 ms
64 bytes <span class="hljs-keyword">from</span> 192.168.1.150: <span class="hljs-attribute">icmp_seq</span>=2 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.062 ms
^C
--- 192.168.1.150<span class="hljs-built_in"> ping </span>statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.062/0.080/0.098/0.018 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#</code></pre></div>
<p>The top pinging being the 10GbE link, the bottom pinging being the MCH through 1GbE. I followed this strategy:</p>
<blockquote>
<p>So one thing I may try is shrinking the enp5s0 subnet to 192.168.1.1 to 192.168.1.128, then changing enp1s0f1's subnet to 192.168.1.129 - 192.168.1.255. Then I think I can put the 10GbE NIC of the AMC13 on enp1s0f1's subnet and literally everything else on enp5s0's subnet.</p>
</blockquote>
<p>Here's what I did:</p>
<h3 id="network-scripts">Network scripts</h3>
<p><strong>/etc/sysconfig/network-script/ifcfg-enp1s0f0</strong> (10GbE)</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">#
# Connect to AMC
#
HWADDR=b4:b5:2f:a4:e7:fc
TYPE=Ethernet
PROXY_METHOD=none
BROWSER_ONLY=no
BOOTPROTO=none
IPADDR=192.168.1.21
NETMASK=255.255.255.0
DEFROUTE=yes
IPV4_FAILURE_FATAL=no
IPV6INIT=yes
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_FAILURE_FATAL=no
IPV6_ADDR_GEN_MODE=stable-privacy
UUID=f1d52da3-687b-3215-a2c0-60c11d0fd3bf
ONBOOT=yes
AUTOCONNECT_PRIORITY=-999
MTU=9000
DEVICE=enp1s0f1
NAME=enp1s0f1</pre><pre class="hljs"><code><span class="hljs-comment">#</span>
<span class="hljs-comment"># Connect to AMC</span>
<span class="hljs-comment">#</span>
<span class="hljs-attr">HWADDR</span>=b4:b5:<span class="hljs-number">2</span>f:a4:e7:fc
<span class="hljs-attr">TYPE</span>=Ethernet
<span class="hljs-attr">PROXY_METHOD</span>=none
<span class="hljs-attr">BROWSER_ONLY</span>=<span class="hljs-literal">no</span>
<span class="hljs-attr">BOOTPROTO</span>=none
<span class="hljs-attr">IPADDR</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.21</span>
<span class="hljs-attr">NETMASK</span>=<span class="hljs-number">255.255</span>.<span class="hljs-number">255.0</span>
<span class="hljs-attr">DEFROUTE</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV4_FAILURE_FATAL</span>=<span class="hljs-literal">no</span>
<span class="hljs-attr">IPV6INIT</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV6_AUTOCONF</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV6_DEFROUTE</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV6_FAILURE_FATAL</span>=<span class="hljs-literal">no</span>
<span class="hljs-attr">IPV6_ADDR_GEN_MODE</span>=stable-privacy
<span class="hljs-attr">UUID</span>=f1d52da3-<span class="hljs-number">687</span>b-<span class="hljs-number">3215</span>-a2c0-<span class="hljs-number">60</span>c11d0fd3bf
<span class="hljs-attr">ONBOOT</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">AUTOCONNECT_PRIORITY</span>=-<span class="hljs-number">999</span>
<span class="hljs-attr">MTU</span>=<span class="hljs-number">9000</span>
<span class="hljs-attr">DEVICE</span>=enp1s0f1
<span class="hljs-attr">NAME</span>=enp1s0f1</code></pre></div>
<p>Notice I didn't bother changing the netmask here, it still can see everything on 192.168.1.xxx; as long as it has a priority less than enp5s0, this isn't a problem (and once I got it working, I didn't want to touch it.)</p>
<p><strong>/etc/sysconfig/network-script/ifcfg-enp5s0</strong> (1GbE)</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">#
# Connect to MCH
#
TYPE=Ethernet
BOOTPROTO=static
IPADDR=192.168.1.1
NETMASK=255.255.255.128
IPV4_FAILURE_FATAL=no
IPV6INIT=no
IPV6_AUTOCONF=yes
IPV6_DEFROUTE=yes
IPV6_PEERDNS=yes
IPV6_PEERROUTES=yes
IPV6_FAILURE_FATAL=no
NAME=enp5s0
DEVICE=enp5s0
ONBOOT=yes</pre><pre class="hljs"><code><span class="hljs-comment">#</span>
<span class="hljs-comment"># Connect to MCH</span>
<span class="hljs-comment">#</span>
<span class="hljs-attr">TYPE</span>=Ethernet
<span class="hljs-attr">BOOTPROTO</span>=static
<span class="hljs-attr">IPADDR</span>=<span class="hljs-number">192.168</span>.<span class="hljs-number">1.1</span>
<span class="hljs-attr">NETMASK</span>=<span class="hljs-number">255.255</span>.<span class="hljs-number">255.128</span>
<span class="hljs-attr">IPV4_FAILURE_FATAL</span>=<span class="hljs-literal">no</span>
<span class="hljs-attr">IPV6INIT</span>=<span class="hljs-literal">no</span>
<span class="hljs-attr">IPV6_AUTOCONF</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV6_DEFROUTE</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV6_PEERDNS</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV6_PEERROUTES</span>=<span class="hljs-literal">yes</span>
<span class="hljs-attr">IPV6_FAILURE_FATAL</span>=<span class="hljs-literal">no</span>
<span class="hljs-attr">NAME</span>=enp5s0
<span class="hljs-attr">DEVICE</span>=enp5s0
<span class="hljs-attr">ONBOOT</span>=<span class="hljs-literal">yes</span></code></pre></div>
<p>Notice here <code class="inline-code">NETMASK=255.255.255.128</code>. This means that enp5s0 only sees 192.168.1.1 to 192.168.1.127; I'm not sure on the details of exactly how this is works.</p>
<p>Reload the network with:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">ifdown enp5s0
ifdown enp1s0f1
ifup enp5s0
if up enp1s0f1</pre><pre class="hljs"><code>ifdown enp5s0
ifdown enp1s0f1
ifup enp5s0<span class="hljs-built_in">
if </span>up enp1s0f1</code></pre></div>
<h3 id="changing-t1-spartan-and-t2-virtex-ips">Changing T1 (Spartan) and T2 (Virtex) IPs</h3>
<p>We had T1 and T2 on 192.168.1.188 and 192.168.1.189 respectively. This is an issue if I want to do the above set-up because it's outside the 1GbE's subnet. So we have to change them.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">cd /home/installation_testing/packages/experiment/lxedaq/environment_setup
source ./setup_environment
cd /home/installation_testing/packages/experiment/lxedaq/amc13/amc13_v1_2_18/dev_tools/amc13Config
./applyConfig -i 192.168.1.13</pre><pre class="hljs"><code><span class="hljs-built_in">cd</span> /home/installation_testing/packages/experiment/lxedaq/environment_setup
<span class="hljs-built_in">source</span> ./setup_environment
<span class="hljs-built_in">cd</span> /home/installation_testing/packages/experiment/lxedaq/amc13/amc13_v1_2_18/dev_tools/amc13Config
./applyConfig -i 192.168.1.13</code></pre></div>
<p>The <code class="inline-code">-i</code> flag in applyConfig tells the script to set T1's IP to 192.168.1.13 and T2's IP to one higher being 192.168.1.14.<br>
Now we can test that we can ping T1 and T2:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@dhcp-10-163-105-238 amc13Config]# ping 192.168.1.13
PING 192.168.1.13 (192.168.1.13) 56(84) bytes of data.
64 bytes from 192.168.1.13: icmp_seq=1 ttl=64 time=0.111 ms
64 bytes from 192.168.1.13: icmp_seq=2 ttl=64 time=0.133 ms
^C
--- 192.168.1.13 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1000ms
rtt min/avg/max/mdev = 0.111/0.122/0.133/0.011 ms
[root@dhcp-10-163-105-238 amc13Config]# ping 192.168.1.14
PING 192.168.1.14 (192.168.1.14) 56(84) bytes of data.
64 bytes from 192.168.1.14: icmp_seq=1 ttl=64 time=0.174 ms
64 bytes from 192.168.1.14: icmp_seq=2 ttl=64 time=0.133 ms
^C
--- 192.168.1.14 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.133/0.153/0.174/0.023 ms
[root@dhcp-10-163-105-238 amc13Config]#</pre><pre class="hljs"><code>[root@dhcp-10-163-105-238 amc13Config]#<span class="hljs-built_in"> ping </span>192.168.1.13<span class="hljs-built_in">
PING </span>192.168.1.13 (192.168.1.13) 56(84) bytes of data.
64 bytes <span class="hljs-keyword">from</span> 192.168.1.13: <span class="hljs-attribute">icmp_seq</span>=1 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.111 ms
64 bytes <span class="hljs-keyword">from</span> 192.168.1.13: <span class="hljs-attribute">icmp_seq</span>=2 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.133 ms
^C
--- 192.168.1.13<span class="hljs-built_in"> ping </span>statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 1000ms
rtt min/avg/max/mdev = 0.111/0.122/0.133/0.011 ms
[root@dhcp-10-163-105-238 amc13Config]#<span class="hljs-built_in"> ping </span>192.168.1.14<span class="hljs-built_in">
PING </span>192.168.1.14 (192.168.1.14) 56(84) bytes of data.
64 bytes <span class="hljs-keyword">from</span> 192.168.1.14: <span class="hljs-attribute">icmp_seq</span>=1 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.174 ms
64 bytes <span class="hljs-keyword">from</span> 192.168.1.14: <span class="hljs-attribute">icmp_seq</span>=2 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.133 ms
^C
--- 192.168.1.14<span class="hljs-built_in"> ping </span>statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.133/0.153/0.174/0.023 ms
[root@dhcp-10-163-105-238 amc13Config]#</code></pre></div>
<h3 id="changing-the-top-10gbe-nics-ip-on-the-amc13">Changing the top 10GbE NIC's IP on the AMC13</h3>
<p>The 10GbE NIC on the AMC13 has IP 192.168.1.32 by default. This is no good because it's inside the subnet of enp5s0, which we're trying to avoid. So let's set it to something outside the subnet (I chose 192.168.1.150):</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">export LD_LIBRARY_PATH=/home/installation_testing/packages/experiment/lxedaq/amc13/amc13StandaloneMAN_2014-05-12/lib:$LD_LIBRARY_PATH
cd export LD_LIBRARY_PATH=/home/installation_testing/packages/experiment/lxedaq/amc13/amc13StandaloneMAN_2014-05-12/lib:$LD_LIBRARY_PATH
bin/AMC13Tool -i 192.168.1.13</pre><pre class="hljs"><code><span class="hljs-built_in">export</span> LD_LIBRARY_PATH=/home/installation_testing/packages/experiment/lxedaq/amc13/amc13StandaloneMAN_2014-05-12/lib:<span class="hljs-variable">$LD_LIBRARY_PATH</span>
<span class="hljs-built_in">cd</span> <span class="hljs-built_in">export</span> LD_LIBRARY_PATH=/home/installation_testing/packages/experiment/lxedaq/amc13/amc13StandaloneMAN_2014-05-12/lib:<span class="hljs-variable">$LD_LIBRARY_PATH</span>
bin/AMC13Tool -i 192.168.1.13</code></pre></div>
<p>This will bring up AMC13Tool, we have to give it a similar <code class="inline-code">-i</code> flag like we did when setting the IPs.</p>
<p>I write the register that determines the 10GbE NIC's IP:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Pick an action (h for menu): wv 0x1c1c 0xc0a80196
Writing to T1:
  00001c1c: c0a80196</pre><pre class="hljs"><code>Pick an action (h for menu): wv <span class="hljs-number">0x1c1c</span> <span class="hljs-number">0xc0a80196</span>
Writing <span class="hljs-keyword">to</span> T<span class="hljs-number">1</span>:
  <span class="hljs-number">00001</span><span class="hljs-keyword">c</span><span class="hljs-number">1</span><span class="hljs-keyword">c</span>: <span class="hljs-keyword">c</span><span class="hljs-number">0</span>a<span class="hljs-number">80196</span></code></pre></div>
<p>This corresponds to 192.168.1.150 because in hex:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">c0 -&gt; 192
a8 -&gt; 168
01 -&gt; 1
96 -&gt; 150</pre><pre class="hljs"><code><span class="hljs-attribute">c0</span> -&gt; <span class="hljs-number">192</span>
<span class="hljs-attribute">a8</span> -&gt; <span class="hljs-number">168</span>
<span class="hljs-attribute">01</span> -&gt; <span class="hljs-number">1</span>
<span class="hljs-attribute">96</span> -&gt; <span class="hljs-number">150</span></code></pre></div>
<p>Then I run <code class="inline-code">ky_init.amc</code>:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Pick an action (h for menu): do amc13_scripts/ky_init.amc</pre><pre class="hljs"><code>Pick an action (h <span class="hljs-keyword">for</span> menu): <span class="hljs-keyword">do</span> amc13_scripts/ky_init.amc</code></pre></div>
<p>Really, I think I could equivalently do this:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```"># enables amc slots and SFP outputs
wv 0x3 0x1fff</pre><pre class="hljs"><code><span class="hljs-comment"># enables amc slots and SFP outputs</span>
<span class="hljs-attribute">wv</span> <span class="hljs-number">0</span>x3 <span class="hljs-number">0</span>x1fff</code></pre></div>
<p>In any event, the result is the 10GbE port is turned on.</p>
<p>We can test pinging both the AMC13 10GbE connection and the MCH:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]# ping 192.168.1.41
PING 192.168.1.41 (192.168.1.41) 56(84) bytes of data.
64 bytes from 192.168.1.41: icmp_seq=1 ttl=255 time=0.477 ms
^C
--- 192.168.1.41 ping statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.477/0.477/0.477/0.000 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]# ping 192.168.1.150
PING 192.168.1.150 (192.168.1.150) 56(84) bytes of data.
64 bytes from 192.168.1.150: icmp_seq=1 ttl=64 time=0.098 ms
64 bytes from 192.168.1.150: icmp_seq=2 ttl=64 time=0.062 ms
^C
--- 192.168.1.150 ping statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.062/0.080/0.098/0.018 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#</pre><pre class="hljs"><code>[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#<span class="hljs-built_in"> ping </span>192.168.1.41<span class="hljs-built_in">
PING </span>192.168.1.41 (192.168.1.41) 56(84) bytes of data.
64 bytes <span class="hljs-keyword">from</span> 192.168.1.41: <span class="hljs-attribute">icmp_seq</span>=1 <span class="hljs-attribute">ttl</span>=255 <span class="hljs-attribute">time</span>=0.477 ms
^C
--- 192.168.1.41<span class="hljs-built_in"> ping </span>statistics ---
1 packets transmitted, 1 received, 0% packet loss, time 0ms
rtt min/avg/max/mdev = 0.477/0.477/0.477/0.000 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#<span class="hljs-built_in"> ping </span>192.168.1.150<span class="hljs-built_in">
PING </span>192.168.1.150 (192.168.1.150) 56(84) bytes of data.
64 bytes <span class="hljs-keyword">from</span> 192.168.1.150: <span class="hljs-attribute">icmp_seq</span>=1 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.098 ms
64 bytes <span class="hljs-keyword">from</span> 192.168.1.150: <span class="hljs-attribute">icmp_seq</span>=2 <span class="hljs-attribute">ttl</span>=64 <span class="hljs-attribute">time</span>=0.062 ms
^C
--- 192.168.1.150<span class="hljs-built_in"> ping </span>statistics ---
2 packets transmitted, 2 received, 0% packet loss, time 999ms
rtt min/avg/max/mdev = 0.062/0.080/0.098/0.018 ms
[root@dhcp-10-163-105-238 amc13StandaloneMAN_2014-05-12]#</code></pre></div>
<h3 id="slightly-change-to-frontend-code">Slightly change to frontend code:</h3>
<p>Becuase the IP of T1 and T2 is hardcoded in the frontend (for some reason), we have to change this AMC13.cpp:84<br>
from</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">  ss_ip_hardcoded &lt;&lt; &quot;192.168.&quot; &lt;&lt; byte3 &lt;&lt; &quot;.&quot; &lt;&lt; (188 + sel);</pre><pre class="hljs"><code>  <span class="hljs-attribute">ss_ip_hardcoded</span> &lt;&lt; <span class="hljs-string">&quot;192.168.&quot;</span> &lt;&lt; byte3 &lt;&lt; <span class="hljs-string">&quot;.&quot;</span> &lt;&lt; (<span class="hljs-number">188</span> + sel);</code></pre></div>
<p>to</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">  ss_ip_hardcoded &lt;&lt; &quot;192.168.&quot; &lt;&lt; byte3 &lt;&lt; &quot;.&quot; &lt;&lt; (13 + sel);</pre><pre class="hljs"><code>  <span class="hljs-attribute">ss_ip_hardcoded</span> &lt;&lt; <span class="hljs-string">&quot;192.168.&quot;</span> &lt;&lt; byte3 &lt;&lt; <span class="hljs-string">&quot;.&quot;</span> &lt;&lt; (<span class="hljs-number">13</span> + sel);</code></pre></div>
<h3 id="aside">Aside:</h3>
<p>I was having some weird errors the first time I tried this. By just changing the IP from 192.168.1.21 --&gt; 192.168.1.100 for enp1s0f1 in the network settings I lost the ability to ping the AMC13 10GbE port at 192.168.1.32. I could change the IP back to 192.168.1.21 and regain the ability to ping. Changing the IP from 192.168.1.32 --&gt; 192.168.1.150 I completely lost the ability to ping, even when I tried to change back from 192.168.1.150 --&gt; 192.168.1.32.</p>
<p>I power cycled the crate and restarted the 'be' computer. Then I had no such troubles anymore.</p>
<p>I think I must have set some weird network settings while I was playing with routing tables before. I have no idea why I had this behavior.</p>
<hr>
<h2 id="31032024-1856">31/03/2024 18:56</h2>
<p>I'm able to sucessfully start both frontends. However, when trying to start a run no data is produced. Furthermore, the CaloReadoutAMC13 frontend ignores the end of run signal and hangs. It just contiously tries to read data</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Started run 4
ReadXBytes(919): socket file descriptor 24, request 8 bytes, read 0 bytes, tries 1000
tcp_thread(622): start read of new event, fill 0, buffer 0

...

ReadXBytes(919): socket file descriptor 24, request 8 bytes, read 0 bytes, tries 1000
tcp_thread(622): start read of new event, fill 0, buffer 0
ReadXBytes(875): ReadXBytes :: x = 8</pre><pre class="hljs"><code>Started run 4
ReadXBytes(919): socket file descriptor 24, request 8 bytes, read 0 bytes, tries 1000
tcp_thread(622): start read of<span class="hljs-built_in"> new </span>event,<span class="hljs-built_in"> fill </span>0, buffer 0

<span class="hljs-keyword">.</span>..

ReadXBytes(919): socket file descriptor 24, request 8 bytes, read 0 bytes, tries 1000
tcp_thread(622): start read of<span class="hljs-built_in"> new </span>event,<span class="hljs-built_in"> fill </span>0, buffer 0
ReadXBytes(875): ReadXBytes<span class="hljs-keyword"> :</span>: x = 8</code></pre></div>
<p>Maybe this issue lies in the Master frontend not &quot;ending&quot; first?</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Frontend Initialization Complete
OK
BOR Received: Run 4
print(155): /Equipment/MasterGM2/Settings/Globals Trigger source                   GPS
print(156): /Equipment/MasterGM2/Settings/Globals Socket trigger IP address        127.0.0.1
print(157): /Equipment/MasterGM2/Settings/Globals Socket trigger port              55000
print(158): /Equipment/MasterGM2/Settings/Globals Rate                             12.000000
print(159): /Equipment/MasterGM2/Settings/Globals Fills per bunch                  8
print(160): /Equipment/MasterGM2/Settings/Globals Readout name                     AMC13
print(161): /Equipment/MasterGM2/Settings/Globals Front End Offset                 1
print(162): /Equipment/MasterGM2/Settings/Globals Simulator name                   CaloSimulatorAMC13
print(163): /Equipment/MasterGM2/Settings/Globals Encoder Front End                AMC13001
print(164): /Equipment/MasterGM2/Settings/Globals Send to event builder            1
print(165): /Equipment/MasterGM2/Settings/Globals Verbose                          0
print(166): /Equipment/MasterGM2/Settings/Globals CCC                              1
print(167): /Equipment/MasterGM2/Settings/Globals Post MTCA Abort State to ECL     1
print(168): /Equipment/MasterGM2/Settings/Globals Preserve TTC Trigger Config      0
print(169): /Equipment/MasterGM2/Settings/Globals Preserve Analog Trigger Config   0
print(170): /Equipment/MasterGM2/Settings/Globals Enable Trigger DB                1
print(171): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog A6 ID          1
print(172): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog T9 ID          1
print(173): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC ID                1
print(174): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC Analog Pulse ID   1
print(175): /Equipment/MasterGM2/Settings/Globals Trigger DB Fanout Delays ID      1
print(176): /Equipment/MasterGM2/Settings/Globals Database Connection              pgsql://g2db-priv:5433/gm2_online_prod gm2_writer gm2_4_writer
print(177): /Equipment/MasterGM2/Settings/Globals Internal Trig Alarm Thresh (s)   30
print(178): /Equipment/MasterGM2/Settings/Globals T9A6Gap (ns)                     8654175
trigger source 3 GPS 3
Buffers Used:   0, Buffers Capacity: 584
Waiting 3 s before starting CCC run ...
CCC: Starting the run ...
Started run 4
EOR received: End of run 4
CCC: Stopping the run ...
TTS status at end of run
     CCC:  RDY (BUSY - 0.0 msec ago)</pre><pre class="hljs"><code>Frontend Initialization Complete
OK
BOR Received: Run 4
print(155): /Equipment/MasterGM2/Settings/Globals Trigger source                   GPS
print(156): /Equipment/MasterGM2/Settings/Globals Socket trigger IP address        127.0.0.1
print(157): /Equipment/MasterGM2/Settings/Globals Socket trigger port              55000
print(158): /Equipment/MasterGM2/Settings/Globals Rate                             12.000000
print(159): /Equipment/MasterGM2/Settings/Globals Fills per bunch                  8
print(160): /Equipment/MasterGM2/Settings/Globals Readout name                     AMC13
print(161): /Equipment/MasterGM2/Settings/Globals Front End Offset                 1
print(162): /Equipment/MasterGM2/Settings/Globals Simulator name                   CaloSimulatorAMC13
print(163): /Equipment/MasterGM2/Settings/Globals Encoder Front End                AMC13001
print(164): /Equipment/MasterGM2/Settings/Globals Send to event builder            1
print(165): /Equipment/MasterGM2/Settings/Globals Verbose                          0
print(166): /Equipment/MasterGM2/Settings/Globals CCC                              1
print(167): /Equipment/MasterGM2/Settings/Globals Post MTCA Abort State to ECL     1
print(168): /Equipment/MasterGM2/Settings/Globals Preserve TTC Trigger Config      0
print(169): /Equipment/MasterGM2/Settings/Globals Preserve Analog Trigger Config   0
print(170): /Equipment/MasterGM2/Settings/Globals Enable Trigger DB                1
print(171): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog A6 ID          1
print(172): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog T9 ID          1
print(173): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC ID                1
print(174): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC Analog Pulse ID   1
print(175): /Equipment/MasterGM2/Settings/Globals Trigger DB Fanout Delays ID      1
print(176): /Equipment/MasterGM2/Settings/Globals Database Connection              pgsql://g2db-priv:5433/gm2_online_prod gm2_writer gm2_4_writer
print(177): /Equipment/MasterGM2/Settings/Globals Internal Trig Alarm Thresh (s)   30
print(178): /Equipment/MasterGM2/Settings/Globals T9A6Gap (ns)                     8654175
trigger source 3 GPS 3
Buffers Used:   0, Buffers Capacity: 584
Waiting 3 s before starting CCC run ...
CCC: Starting the run ...
Started run 4
EOR received: End of run 4
CCC: Stopping the run ...
TTS status at end of run
     CCC:  RDY (BUSY - 0.0 msec ago)</code></pre></div>
<p>Master is the first in the sequence after all:<br>
<img src="../_resources/6aa45dec1366445ab601c19a144853ad.png" alt="4e0b2b89d79d345fff52dee5f1092e92.png"></p>
<hr>
<h2 id="02042024-1444">02/04/2024 14:44</h2>
<p>I changed the ODB settings to even more closely match the UW setup:<br>
<img src="../_resources/e3ab0f14fee14228af0ff48a59db277f.png" alt="587bc1791c2c3bee66a3975827a09794.png"><br>
and<br>
<img src="../_resources/26bb4c3073f842fb94474149dd19c5dd.png" alt="91140c2efadf99d688e74e88bc5fd59a.png"><br>
However, nothing changed.</p>
<hr>
<h2 id="02042024-1449">02/04/2024 14:49</h2>
<p>I changed the method:</p>
<p>MasterGM2/AMC1300.cpp:921</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">int FC7_check_run_state() {
  // get run state
  int run_in_progress = fc7lib-&gt;getRunState(5, 1, fc7[ (crate_info[0].ccc_amc_slot - 1) ], 0);
  if (run_in_progress == -1) {
    return -1;
  }
   
  // wait until the run has stopped
  int MAX_TRIES = 10;
  int tries = 0;
  while (run_in_progress == 1) {
    sleep(1); // pause
    
    // check run state
    run_in_progress = fc7lib-&gt;getRunState(5, 1, fc7[ (crate_info[0].ccc_amc_slot - 1) ], 0);
    if (run_in_progress == -1) {
      return -1;
    }
    tries++;
    if (tries &gt; MAX_TRIES) {
      return -2;
    }
  }

  return 0;
} // FC7_check_run_state</pre><pre class="hljs"><code>int FC7_check_run_state() {
  // get run state
 <span class="hljs-built_in"> int </span>run_in_progress = fc7lib-&gt;getRunState(5, 1, fc7[ (crate_info[0].ccc_amc_slot - 1) ], 0);
 <span class="hljs-built_in"> if </span>(run_in_progress == -1) {
   <span class="hljs-built_in"> return </span>-1;
  }
   
  // wait until the run has stopped
 <span class="hljs-built_in"> int </span>MAX_TRIES = 10;
 <span class="hljs-built_in"> int </span>tries = 0;
  while (run_in_progress == 1) {
    sleep(1); // pause
    
    //<span class="hljs-built_in"> check </span>run state
    run_in_progress = fc7lib-&gt;getRunState(5, 1, fc7[ (crate_info[0].ccc_amc_slot - 1) ], 0);
   <span class="hljs-built_in"> if </span>(run_in_progress == -1) {
     <span class="hljs-built_in"> return </span>-1;
    }
    tries++;
   <span class="hljs-built_in"> if </span>(tries &gt; MAX_TRIES) {
     <span class="hljs-built_in"> return </span>-2;
    }
  }

 <span class="hljs-built_in"> return </span>0;
} // FC7_check_run_state</code></pre></div>
<p>and</p>
<p>MasterGM2/frontend.cpp:1187</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">switch (FC7_check_run_state()) {
      case -1:
          // Ethernet communication failure
          cm_msg(MERROR, __FUNCTION__, &quot;FC7-%02i: Unable to Verify Run has Stopped (Communication Failure)&quot;, crate_info[0].ccc_amc_slot);
          break;
      case -2:
          // Run state stuck in progress
          cm_msg(MERROR, __FUNCTION__, &quot;FC7-%02i: Unable to Verify Run has Stopped (Run state still in progress)&quot;, crate_info[0].ccc_amc_slot);
          break;
      default:
          // Otherwise do nothing
          break;
    }</pre><pre class="hljs"><code><span class="hljs-keyword">switch</span> (<span class="hljs-title function_ invoke__">FC7_check_run_state</span>()) {
      <span class="hljs-keyword">case</span> -<span class="hljs-number">1</span>:
          <span class="hljs-comment">// Ethernet communication failure</span>
          <span class="hljs-title function_ invoke__">cm_msg</span>(MERROR, <span class="hljs-keyword">__FUNCTION__</span>, <span class="hljs-string">&quot;FC7-%02i: Unable to Verify Run has Stopped (Communication Failure)&quot;</span>, crate_info[<span class="hljs-number">0</span>].ccc_amc_slot);
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">case</span> -<span class="hljs-number">2</span>:
          <span class="hljs-comment">// Run state stuck in progress</span>
          <span class="hljs-title function_ invoke__">cm_msg</span>(MERROR, <span class="hljs-keyword">__FUNCTION__</span>, <span class="hljs-string">&quot;FC7-%02i: Unable to Verify Run has Stopped (Run state still in progress)&quot;</span>, crate_info[<span class="hljs-number">0</span>].ccc_amc_slot);
          <span class="hljs-keyword">break</span>;
      <span class="hljs-keyword">default</span>:
          <span class="hljs-comment">// Otherwise do nothing</span>
          <span class="hljs-keyword">break</span>;
    }</code></pre></div>
<p>Before, there was no number of &quot;max tries&quot; which caught the the frontend in a loop when trying to end a run if run_in_progress is stuck at value 1. Why run_in_progress is not changing is beyong me, somehow the FC7 is not recieving and end of run signal(?)</p>
<hr>
<h2 id="02042024-1507">02/04/2024 15:07</h2>
<p>Any time I put the 1kHz trigger signal in D6 of the &quot;D Bank&quot; like so:<br>
<img src="../_resources/1ae28b5ec0014fb9b52a680f092c94a3.png" alt="00c38ffda429b80c6d074a71b7782e87.png"></p>
<p>I get the following errors when trying to start CaloReadoutAMC13:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">frontend_init(1923): AMC13 Not Ready 1/3:
 loc_tts = 4, should be 8
 enc_tts = 8, should be 0
frontend_init(1900): AMC13 General Reset
frontend_init(1908): AMC13 Counter Reset
frontend_init(1915): AMC13 Final Status Check
frontend_init(1923): AMC13 Not Ready 2/3:
 loc_tts = 4, should be 8
 enc_tts = 8, should be 0
frontend_init(1900): AMC13 General Reset
frontend_init(1908): AMC13 Counter Reset
frontend_init(1915): AMC13 Final Status Check
frontend_init(1923): AMC13 Not Ready 3/3:
 loc_tts = 4, should be 8
 enc_tts = 8, should be 0</pre><pre class="hljs"><code><span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1923</span>): AMC13 Not Ready <span class="hljs-number">1</span>/<span class="hljs-number">3</span>:
 <span class="hljs-attribute">loc_tts</span> = <span class="hljs-number">4</span>, should be <span class="hljs-number">8</span>
 <span class="hljs-attribute">enc_tts</span> = <span class="hljs-number">8</span>, should be <span class="hljs-number">0</span>
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1900</span>): AMC13 General Reset
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1908</span>): AMC13 Counter Reset
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1915</span>): AMC13 Final Status Check
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1923</span>): AMC13 Not Ready <span class="hljs-number">2</span>/<span class="hljs-number">3</span>:
 <span class="hljs-attribute">loc_tts</span> = <span class="hljs-number">4</span>, should be <span class="hljs-number">8</span>
 <span class="hljs-attribute">enc_tts</span> = <span class="hljs-number">8</span>, should be <span class="hljs-number">0</span>
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1900</span>): AMC13 General Reset
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1908</span>): AMC13 Counter Reset
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1915</span>): AMC13 Final Status Check
<span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1923</span>): AMC13 Not Ready <span class="hljs-number">3</span>/<span class="hljs-number">3</span>:
 <span class="hljs-attribute">loc_tts</span> = <span class="hljs-number">4</span>, should be <span class="hljs-number">8</span>
 <span class="hljs-attribute">enc_tts</span> = <span class="hljs-number">8</span>, should be <span class="hljs-number">0</span></code></pre></div>
<p>Simply taking the trigger out of the &quot;D Bank&quot; seems to solve the problem, regardless if internal trigger mode is enabled or not.</p>
<hr>
<h2 id="04042024-1619">04/04/2024 16:19</h2>
<p>The meinberg card started complaining, supposedly after Tim tried to feed the trigger signal directly to it:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@dhcp-10-163-105-238 ~]# mbgstatus

mbgstatus v4.2.24 copyright Meinberg 2001-2023

TCR180PEX 039212025430 (FW 1.21, ASIC 9.00) at port 0xE000, irq 45
** mbg_get_time failed: Input/output error (rc: -73)
** mbg_get_hr_time failed: Input/output error (rc: -73)
** mbg_get_irig_rx_info failed: Input/output error (rc: -73)
** mbg_get_ref_offs failed: Input/output error (rc: -73)
** mbg_get_sync_time failed: Input/output error (rc: -73)
Signal: 0%  (IRIG)
Status info: *** NO INPUT SIGNAL
Status info: *** Not synchronized after last RESET
Status info: Clock is synchronized

[root@dhcp-10-163-105-238 ~]#</pre><pre class="hljs"><code>[root@dhcp-10-163-105-238 ~]# mbgstatus

mbgstatus v4.2.24 copyright Meinberg 2001-2023

TCR180PEX 039212025430 (FW 1.21, ASIC 9.00) at<span class="hljs-built_in"> port </span>0xE000,<span class="hljs-built_in"> irq </span>45
** mbg_get_time failed: Input/output <span class="hljs-built_in">error</span> (rc: -73)
** mbg_get_hr_time failed: Input/output <span class="hljs-built_in">error</span> (rc: -73)
** mbg_get_irig_rx_info failed: Input/output <span class="hljs-built_in">error</span> (rc: -73)
** mbg_get_ref_offs failed: Input/output <span class="hljs-built_in">error</span> (rc: -73)
** mbg_get_sync_time failed: Input/output <span class="hljs-built_in">error</span> (rc: -73)
Signal: 0%  (IRIG)
Status info: *** <span class="hljs-literal">NO</span> INPUT SIGNAL
Status info: *** <span class="hljs-keyword">Not</span> synchronized after last RESET
Status info:<span class="hljs-built_in"> Clock </span>is synchronized

[root@dhcp-10-163-105-238 ~]#</code></pre></div>
<p>I tried:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">echo 1 &gt; /sys/bus/pci/devices/0000:02:00.0/reset</pre><pre class="hljs"><code><span class="hljs-attribute">echo</span> <span class="hljs-number">1</span> &gt; /sys/bus/pci/devices/<span class="hljs-number">0000</span>:<span class="hljs-number">02</span>:<span class="hljs-number">00</span>.<span class="hljs-number">0</span>/reset</code></pre></div>
<p>But no luck.</p>
<p>After rebooting I remove these errors, getting the same staus as when I first loaded the drivers onto the card:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@dhcp-10-163-105-238 ~]# mbgstatus

mbgstatus v4.2.24 copyright Meinberg 2001-2023

TCR180PEX 039212025430 (FW 1.21, ASIC 9.00) at port 0xE000, irq 45
Date/time:  Th, 2024-04-04  20:27:24.09 UTC
Signal: 0%  (IRIG B122/B123, ** UTC offs not configured **)
Status info: *** NO INPUT SIGNAL
Status info: *** Ref. Time is Invalid
Last sync:  We, 2023-10-04  11:36:55.00 UTC

** Warning: The IRIG receiver has not yet been configured!

Please make sure the correct IRIG Code Format has been
selected, and enter the correct IRIG Time Offset from UTC
according to the settings of the IRIG generator.
The command &quot;mbgirigcfg&quot; can be used to change the settings.</pre><pre class="hljs"><code>[<span class="hljs-string">root@dhcp-10-163-105-238</span> <span class="hljs-string">~</span>]<span class="hljs-comment"># mbgstatus</span>

<span class="hljs-string">mbgstatus</span> <span class="hljs-string">v4.2.24</span> <span class="hljs-string">copyright</span> <span class="hljs-string">Meinberg</span> <span class="hljs-number">2001</span><span class="hljs-number">-2023</span>

<span class="hljs-string">TCR180PEX</span> <span class="hljs-number">039212025430</span> <span class="hljs-string">(FW</span> <span class="hljs-number">1.21</span><span class="hljs-string">,</span> <span class="hljs-string">ASIC</span> <span class="hljs-number">9.00</span><span class="hljs-string">)</span> <span class="hljs-string">at</span> <span class="hljs-string">port</span> <span class="hljs-number">0xE000</span><span class="hljs-string">,</span> <span class="hljs-string">irq</span> <span class="hljs-number">45</span>
<span class="hljs-attr">Date/time:</span>  <span class="hljs-string">Th,</span> <span class="hljs-number">2024-04-04  </span><span class="hljs-number">20</span><span class="hljs-string">:27:24.09</span> <span class="hljs-string">UTC</span>
<span class="hljs-attr">Signal:</span> <span class="hljs-number">0</span><span class="hljs-string">%</span>  <span class="hljs-string">(IRIG</span> <span class="hljs-string">B122/B123,</span> <span class="hljs-string">**</span> <span class="hljs-string">UTC</span> <span class="hljs-string">offs</span> <span class="hljs-string">not</span> <span class="hljs-string">configured</span> <span class="hljs-string">**)</span>
<span class="hljs-attr">Status info:</span> <span class="hljs-string">***</span> <span class="hljs-literal">NO</span> <span class="hljs-string">INPUT</span> <span class="hljs-string">SIGNAL</span>
<span class="hljs-attr">Status info:</span> <span class="hljs-string">***</span> <span class="hljs-string">Ref.</span> <span class="hljs-string">Time</span> <span class="hljs-string">is</span> <span class="hljs-string">Invalid</span>
<span class="hljs-attr">Last sync:</span>  <span class="hljs-string">We,</span> <span class="hljs-number">2023-10-04  </span><span class="hljs-number">11</span><span class="hljs-string">:36:55.00</span> <span class="hljs-string">UTC</span>

<span class="hljs-string">**</span> <span class="hljs-attr">Warning:</span> <span class="hljs-string">The</span> <span class="hljs-string">IRIG</span> <span class="hljs-string">receiver</span> <span class="hljs-string">has</span> <span class="hljs-string">not</span> <span class="hljs-string">yet</span> <span class="hljs-string">been</span> <span class="hljs-string">configured!</span>

<span class="hljs-string">Please</span> <span class="hljs-string">make</span> <span class="hljs-string">sure</span> <span class="hljs-string">the</span> <span class="hljs-string">correct</span> <span class="hljs-string">IRIG</span> <span class="hljs-string">Code</span> <span class="hljs-string">Format</span> <span class="hljs-string">has</span> <span class="hljs-string">been</span>
<span class="hljs-string">selected,</span> <span class="hljs-string">and</span> <span class="hljs-string">enter</span> <span class="hljs-string">the</span> <span class="hljs-string">correct</span> <span class="hljs-string">IRIG</span> <span class="hljs-string">Time</span> <span class="hljs-string">Offset</span> <span class="hljs-string">from</span> <span class="hljs-string">UTC</span>
<span class="hljs-string">according</span> <span class="hljs-string">to</span> <span class="hljs-string">the</span> <span class="hljs-string">settings</span> <span class="hljs-string">of</span> <span class="hljs-string">the</span> <span class="hljs-string">IRIG</span> <span class="hljs-string">generator.</span>
<span class="hljs-string">The</span> <span class="hljs-string">command</span> <span class="hljs-string">&quot;mbgirigcfg&quot;</span> <span class="hljs-string">can</span> <span class="hljs-string">be</span> <span class="hljs-string">used</span> <span class="hljs-string">to</span> <span class="hljs-string">change</span> <span class="hljs-string">the</span> <span class="hljs-string">settings.</span></code></pre></div>
<hr>
<h2 id="04042024-1647">04/04/2024 16:47</h2>
<p>After plugging in an old g-2 10GbE NIC card into fe01 to check some details, I took it out and tried reclosing the system. I think I must have moved some components around because I got this error:<br>
<img src="../_resources/733759d3bfcf4454a5e36ac61d7a84c0.png" alt="f298f13440bc6cc902c5d0d50c2bcd34.png"><br>
After pressing down on some components in an attempt to reseat them, I tried again and got this error:<br>
<img src="../_resources/4cba1e1a45044f8dac33fc18da1c30b5.png" alt="8bb155f42efcecca3ebdbae10c6a5c4e.png"><br>
The fans were also louder than normal.</p>
<p>I then turned the computer upright and it suddenly began working again.</p>
<hr>
<h2 id="04042024-1658">04/04/2024 16:58</h2>
<p>It seems changing the AMC13 into &quot;DAQLink&quot; mode made is so we get past this error when trying to put in an external trigger:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">frontend_init(1923): AMC13 Not Ready 3/3:
 loc_tts = 4, should be 8
 enc_tts = 8, should be 0</pre><pre class="hljs"><code><span class="hljs-attribute">frontend_init</span>(<span class="hljs-number">1923</span>): AMC13 Not Ready <span class="hljs-number">3</span>/<span class="hljs-number">3</span>:
 <span class="hljs-attribute">loc_tts</span> = <span class="hljs-number">4</span>, should be <span class="hljs-number">8</span>
 <span class="hljs-attribute">enc_tts</span> = <span class="hljs-number">8</span>, should be <span class="hljs-number">0</span></code></pre></div>
<p>But then I immediately get</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[AMC13001,ERROR] [frontend.cpp:2305:begin_of_run,ERROR] AMC13 Begin-of-Run Failed.
 loc_tts: 12, should be 8
 enc_tts: 0, should be 0
 daq_link: 0, should be 0</pre><pre class="hljs"><code>[AMC13001,ERROR] [frontend.cpp:<span class="hljs-number">2305</span>:<span class="hljs-keyword">begin_of_run,ERROR] </span>AMC13 <span class="hljs-keyword">Begin-of-Run </span>Failed.
<span class="hljs-symbol"> loc_tts:</span> <span class="hljs-number">12</span>, <span class="hljs-keyword">should </span><span class="hljs-keyword">be </span><span class="hljs-number">8</span>
<span class="hljs-symbol"> enc_tts:</span> <span class="hljs-number">0</span>, <span class="hljs-keyword">should </span><span class="hljs-keyword">be </span><span class="hljs-number">0</span>
<span class="hljs-symbol"> daq_link:</span> <span class="hljs-number">0</span>, <span class="hljs-keyword">should </span><span class="hljs-keyword">be </span><span class="hljs-number">0</span></code></pre></div>
<p>instead</p>
<p>I simply tried restarting the AMC13001 frontend and this time it work. I saw events in only AMC13001 at a rate of about 33Hz.</p>
<hr>
<h2 id="31032024-1556">31/03/2024 15:56</h2>
<p>Trying to follow steps in the readme here: <a data-from-md title='https://github.com/Xilinx/dma_ip_drivers/tree/master/XDMA/linux-kernel' href='https://github.com/Xilinx/dma_ip_drivers/tree/master/XDMA/linux-kernel'>https://github.com/Xilinx/dma_ip_drivers/tree/master/XDMA/linux-kernel</a></p>
<p>I come across the same problem as before.</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@fe01 tests]# ./load_driver.sh
interrupt_selection .
xdma                   87724  0
Loading driver...insmod xdma.ko interrupt_mode=2 ...

Error: The Kernel module installed correctly, but no devices were recognized.
 FAILED
[root@fe01 tests]#</pre><pre class="hljs"><code>[root@fe01 tests]# ./load_driver.sh
interrupt_selection .
xdma                   87724  0
Loading driver...insmod xdma.ko interrupt_mode=2 ...

<span class="hljs-keyword">Error: </span>The Kernel module installed correctly, but no devices were recognized.
 FAILED
[root@fe01 tests]#</code></pre></div>
<p>The only difference is this time I tried it with the working PCIe 7-series block loaded onto the FPGA, instead of the DMA PCIe block that I couldn't get working.</p>
<hr>
<h2 id="01042024-1518">01/04/2024 15:18</h2>
<p>I changed some more ODB settings so they match the UW setup. Really all I did was turn everything to &quot;no&quot; here so we don't use the GPU:<br>
<img src="../_resources/a7fc347dc68b4cabad473f1ee4d7284d.png" alt="702076e951341d8e0932acb12c1f4fd3.png"><br>
And then I also copied the FC7 encoder settings:<br>
<img src="../_resources/de9e9ffdc6b943e1b1b8bafef5303222.png" alt="fe0c444d0290e60274942b8c1e28aadc.png"></p>
<hr>
<h2 id="01042024-1520">01/04/2024 15:20</h2>
<p>Lawrence linked the firmware: AMC13T1v0x813f_7k325t.mcs</p>
<p>So I downloaded that and moved it to 'be' with scp.</p>
<p>Then I programmed the device using AMC13Tool:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Pick an action (h for menu): pv
Current Virtex firmware version: 0x8127

1) AMC13T1v0x810b_7k325t.mcs
2) AMC13T1v0x811f_7k325t.mcs
3) **AMC13T1v0x813f_7k325t.mcs**

Select desired MCS file. Hit &lt;CR&gt; to select best highlighted option
Type '1-3' to select or '0' for menu: 3
./AMC13T1v0x813f_7k325t.mcs
WARNING: you are about to reprogram flash memory. Are you sure? (y) y
Erasing flash sector at address 0x400000
Erasing flash sector at address 0x440000
Erasing flash sector at address 0x480000
Erasing flash sector at address 0x4c0000
Erasing flash sector at address 0x500000
Erasing flash sector at address 0x540000
Erasing flash sector at address 0x580000
Erasing flash sector at address 0x5c0000
Erasing flash sector at address 0x600000
Erasing flash sector at address 0x640000
Erasing flash sector at address 0x680000
Erasing flash sector at address 0x6c0000
Erasing flash sector at address 0x700000
Erasing flash sector at address 0x740000
Erasing flash sector at address 0x780000
Erasing flash sector at address 0x7c0000
Erasing flash sector at address 0x800000
Erasing flash sector at address 0x840000
Erasing flash sector at address 0x880000
Erasing flash sector at address 0x8c0000
Erasing flash sector at address 0x900000
Erasing flash sector at address 0x940000
Erasing flash sector at address 0x980000
Erasing flash sector at address 0x9c0000
Erasing flash sector at address 0xa00000
Erasing flash sector at address 0xa40000
Erasing flash sector at address 0xa80000
Erasing flash sector at address 0xac0000
Erasing flash sector at address 0xb00000
Erasing flash sector at address 0xb40000
Erasing flash sector at address 0xb80000
Erasing flash sector at address 0xbc0000
Erasing flash sector at address 0xc00000
Erasing flash sector at address 0xc40000
Erasing flash sector at address 0xc80000
Erasing flash sector at address 0xcc0000
Erasing flash sector at address 0xd00000
Erasing flash sector at address 0xd40000
Erasing flash sector at address 0xd80000
Erasing flash sector at address 0xdc0000
Erasing flash sector at address 0xe00000
Erasing flash sector at address 0xe40000
Erasing flash sector at address 0xe80000
Erasing flash sector at address 0xec0000


programming flash at address 0xee9e00
programming flash at address 0xe2e700    % done = 6
programming flash at address 0xd72f00    % done = 13
programming flash at address 0xcb7700    % done = 20
programming flash at address 0xbfbf00    % done = 26
programming flash at address 0xb40700    % done = 33
programming flash at address 0xa84f00    % done = 40
programming flash at address 0x9c9700    % done = 47
programming flash at address 0x90df00    % done = 53
programming flash at address 0x852700    % done = 60
programming flash at address 0x796f00    % done = 67
programming flash at address 0x6db700    % done = 73
programming flash at address 0x61ff00    % done = 80
programming flash at address 0x564700    % done = 87
programming flash at address 0x4a8f00    % done = 94

reading flash at address 0x400000
reading flash at address 0x4bb700        % done = 6
reading flash at address 0x576f00        % done = 13
reading flash at address 0x632700        % done = 20
reading flash at address 0x6edf00        % done = 26
reading flash at address 0x7a9700        % done = 33
reading flash at address 0x864f00        % done = 40
reading flash at address 0x920700        % done = 47
reading flash at address 0x9dbf00        % done = 53
reading flash at address 0xa97700        % done = 60
reading flash at address 0xb52f00        % done = 67
reading flash at address 0xc0e700        % done = 73
reading flash at address 0xcc9f00        % done = 80
reading flash at address 0xd85700        % done = 87
reading flash at address 0xe40f00        % done = 94
Verifying flash against ./AMC13T1v0x813f_7k325t.mcs, num pages: 44702
Successfully verified flash programing:
file = ./AMC13T1v0x813f_7k325t.mcs   pages = 44702

Flash successfully programmed and verified.
Load the new flash memory to the chips to complete firmware update</pre><pre class="hljs"><code>Pick an action (h for menu): pv
Current Virtex firmware version: 0x8127

1) AMC13T1v0x810b_7k325t.mcs
2) AMC13T1v0x811f_7k325t.mcs
3) **AMC13T1v0x813f_7k325t.mcs**

Select desired MCS file. Hit &lt;CR&gt; to select best highlighted option
Type '1-3' to select or '0' for menu: 3
./AMC13T1v0x813f_7k325t.mcs
WARNING: you are about to reprogram flash memory. Are you sure? (y) y
Erasing flash sector at address 0x400000
Erasing flash sector at address 0x440000
Erasing flash sector at address 0x480000
Erasing flash sector at address 0x4c0000
Erasing flash sector at address 0x500000
Erasing flash sector at address 0x540000
Erasing flash sector at address 0x580000
Erasing flash sector at address 0x5c0000
Erasing flash sector at address 0x600000
Erasing flash sector at address 0x640000
Erasing flash sector at address 0x680000
Erasing flash sector at address 0x6c0000
Erasing flash sector at address 0x700000
Erasing flash sector at address 0x740000
Erasing flash sector at address 0x780000
Erasing flash sector at address 0x7c0000
Erasing flash sector at address 0x800000
Erasing flash sector at address 0x840000
Erasing flash sector at address 0x880000
Erasing flash sector at address 0x8c0000
Erasing flash sector at address 0x900000
Erasing flash sector at address 0x940000
Erasing flash sector at address 0x980000
Erasing flash sector at address 0x9c0000
Erasing flash sector at address 0xa00000
Erasing flash sector at address 0xa40000
Erasing flash sector at address 0xa80000
Erasing flash sector at address 0xac0000
Erasing flash sector at address 0xb00000
Erasing flash sector at address 0xb40000
Erasing flash sector at address 0xb80000
Erasing flash sector at address 0xbc0000
Erasing flash sector at address 0xc00000
Erasing flash sector at address 0xc40000
Erasing flash sector at address 0xc80000
Erasing flash sector at address 0xcc0000
Erasing flash sector at address 0xd00000
Erasing flash sector at address 0xd40000
Erasing flash sector at address 0xd80000
Erasing flash sector at address 0xdc0000
Erasing flash sector at address 0xe00000
Erasing flash sector at address 0xe40000
Erasing flash sector at address 0xe80000
Erasing flash sector at address 0xec0000


programming flash at address 0xee9e00
programming flash at address 0xe2e700    % done = 6
programming flash at address 0xd72f00    % done = 13
programming flash at address 0xcb7700    % done = 20
programming flash at address 0xbfbf00    % done = 26
programming flash at address 0xb40700    % done = 33
programming flash at address 0xa84f00    % done = 40
programming flash at address 0x9c9700    % done = 47
programming flash at address 0x90df00    % done = 53
programming flash at address 0x852700    % done = 60
programming flash at address 0x796f00    % done = 67
programming flash at address 0x6db700    % done = 73
programming flash at address 0x61ff00    % done = 80
programming flash at address 0x564700    % done = 87
programming flash at address 0x4a8f00    % done = 94

reading flash at address 0x400000
reading flash at address 0x4bb700        % done = 6
reading flash at address 0x576f00        % done = 13
reading flash at address 0x632700        % done = 20
reading flash at address 0x6edf00        % done = 26
reading flash at address 0x7a9700        % done = 33
reading flash at address 0x864f00        % done = 40
reading flash at address 0x920700        % done = 47
reading flash at address 0x9dbf00        % done = 53
reading flash at address 0xa97700        % done = 60
reading flash at address 0xb52f00        % done = 67
reading flash at address 0xc0e700        % done = 73
reading flash at address 0xcc9f00        % done = 80
reading flash at address 0xd85700        % done = 87
reading flash at address 0xe40f00        % done = 94
Verifying flash against ./AMC13T1v0x813f_7k325t.mcs, num pages: 44702
Successfully verified flash programing:
file = ./AMC13T1v0x813f_7k325t.mcs   pages = 44702

Flash successfully programmed and verified.
Load the new flash memory to the chips to complete firmware update</code></pre></div>
<p>To load, I then ran:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Pick an action (h for menu): L
WARNING: you are about to reconfigure both spartan and virtex from flash memory. Are you sure? (y) y
Wait 10 seconds to ensure the reconfiguration's completion:  0
Spartan and Virtex have been reconfigured from flash</pre><pre class="hljs"><code>Pick an action (h for menu): L
<span class="hljs-symbol">WARNING: </span>you are about to reconfigure both spartan and virtex from flash memory. Are you sure? (y) y
Wait 10 seconds to ensure the reconfiguration&#x27;s completion:  0
Spartan and Virtex have been reconfigured from flash</code></pre></div>
<p>That messed with the connection to the AMC13 T1 and T2 somehow, so I had to set their IPs up again:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">cd /home/installation_testing/packages/experiment/lxedaq/amc13/amc13_v1_2_18/dev_tools/amc13Config
./applyConfig.py -i 192.168.1.13</pre><pre class="hljs"><code><span class="hljs-built_in">cd</span> /home/installation_testing/packages/experiment/lxedaq/amc13/amc13_v1_2_18/dev_tools/amc13Config
./applyConfig.py -i 192.168.1.13</code></pre></div>
<p>and the IP for the 10GbE connection got reset to default so I had to change that back:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Pick an action (h for menu): rv 0x1c1c
Reading T1:
  00001c1c: c0a80120

Pick an action (h for menu): wv 0x1c1c 0xc0a80196
Writing to T1:
  00001c1c: c0a80196</pre><pre class="hljs"><code>Pick an action (h for menu): rv <span class="hljs-number">0x1c1c</span>
Reading T<span class="hljs-number">1</span>:
  <span class="hljs-number">00001</span><span class="hljs-keyword">c</span><span class="hljs-number">1</span><span class="hljs-keyword">c</span>: <span class="hljs-keyword">c</span><span class="hljs-number">0</span>a<span class="hljs-number">80120</span>

Pick an action (h for menu): wv <span class="hljs-number">0x1c1c</span> <span class="hljs-number">0xc0a80196</span>
Writing <span class="hljs-keyword">to</span> T<span class="hljs-number">1</span>:
  <span class="hljs-number">00001</span><span class="hljs-keyword">c</span><span class="hljs-number">1</span><span class="hljs-keyword">c</span>: <span class="hljs-keyword">c</span><span class="hljs-number">0</span>a<span class="hljs-number">80196</span></code></pre></div>
<p>I couldn't ping 192.168.1.150, so I tried running:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Pick an action (h for menu): wv 0x3 0x1fff</pre><pre class="hljs"><code><span class="hljs-attribute">Pick</span> an action (h for menu): wv <span class="hljs-number">0</span>x3 <span class="hljs-number">0</span>x1fff</code></pre></div>
<p>But that wasn't enough, so I ran the whole ky_init script instead:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Pick an action (h for menu): do amc13_scripts/ky_init.amc</pre><pre class="hljs"><code>Pick an action (h <span class="hljs-keyword">for</span> menu): <span class="hljs-keyword">do</span> amc13_scripts/ky_init.amc</code></pre></div>
<p>then I was able to ping 192.168.1.150 again.</p>
<p>I ran the frontends and encountered the exact same issues as before (but it complained about the firmware version, meaning it successfully updated!).</p>
<hr>
<h2 id="01042024-1609">01/04/2024 16:09</h2>
<p>I'm also updating the spartan firmware while I'm at it:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">cd /home/installation_testing/packages/experiment/lxedaq/amc13/amc13StandaloneMAN_2014-05-12
wget http://physics.bu.edu/~wusx/download/AMC13/AMC13T2v0x002e_6slx45t.mcs</pre><pre class="hljs"><code>cd <span class="hljs-regexp">/home/i</span>nstallation_testing<span class="hljs-regexp">/packages/</span>experiment<span class="hljs-regexp">/lxedaq/</span>amc13/amc13StandaloneMAN_2014-<span class="hljs-number">05</span>-<span class="hljs-number">12</span>
wget http:<span class="hljs-regexp">//</span>physics.bu.edu<span class="hljs-regexp">/~wusx/</span>download<span class="hljs-regexp">/AMC13/</span>AMC13T2v0x002e_6slx45t.mcs</code></pre></div>
<p>Then I just repeated everything I did above, this time I used the <code class="inline-code">ps</code> command in AMC13Tool instead.</p>
<hr>
<h2 id="01042024-1617">01/04/2024 16:17</h2>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">frontend_init(1900): AMC13 General Reset
frontend_init(1908): AMC13 Counter Reset
frontend_init(1915): AMC13 Final Status Check
frontend_init(1923): AMC13 Not Ready 3/3:
 loc_tts = 2, should be 8
 enc_tts = 0, should be 0
[AMC13001,ERROR] [frontend.cpp:1931:frontend_init,ERROR] AMC13 Initialization Failed</pre><pre class="hljs"><code><span class="hljs-function"><span class="hljs-title">frontend_init</span><span class="hljs-params">(<span class="hljs-number">1900</span>)</span></span>: AMC13 General Reset
<span class="hljs-function"><span class="hljs-title">frontend_init</span><span class="hljs-params">(<span class="hljs-number">1908</span>)</span></span>: AMC13 Counter Reset
<span class="hljs-function"><span class="hljs-title">frontend_init</span><span class="hljs-params">(<span class="hljs-number">1915</span>)</span></span>: AMC13 Final Status Check
<span class="hljs-function"><span class="hljs-title">frontend_init</span><span class="hljs-params">(<span class="hljs-number">1923</span>)</span></span>: AMC13 Not Ready <span class="hljs-number">3</span>/<span class="hljs-number">3</span>:
 loc_tts = <span class="hljs-number">2</span>, should be <span class="hljs-number">8</span>
 enc_tts = <span class="hljs-number">0</span>, should be <span class="hljs-number">0</span>
<span class="hljs-selector-attr">[AMC13001,ERROR]</span> <span class="hljs-selector-attr">[frontend.cpp:1931:frontend_init,ERROR]</span> AMC13 Initialization Failed</code></pre></div>
<p>I find myself getting this error a lot. It goes away after just waiting some time. I'm not sure what causes it. All I know is <code class="inline-code">loc_tts</code> corresponds to the node <code class="inline-code">STATUS.T1_TTS_STATE</code> so it has something to do with the TTS state in the Vintex (technically Kintex, whatever) FPGA. I remember this exact same error coming up when I worked on the Cornell DAQ remotely.</p>
<hr>
<h2 id="01042024-1622">01/04/2024 16:22</h2>
<p>After updating, we still have the same error. No data being produced and the master hanging when trying to end a run:<br>
<strong>MasterGM2</strong></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Buffers Used:   0, Buffers Capacity: 584
Frontend Initialization Complete
OK
BOR Received: Run 11
print(155): /Equipment/MasterGM2/Settings/Globals Trigger source                   GPS
print(156): /Equipment/MasterGM2/Settings/Globals Socket trigger IP address        127.0.0.1
print(157): /Equipment/MasterGM2/Settings/Globals Socket trigger port              55000
print(158): /Equipment/MasterGM2/Settings/Globals Rate                             12.000000
print(159): /Equipment/MasterGM2/Settings/Globals Fills per bunch                  8
print(160): /Equipment/MasterGM2/Settings/Globals Readout name                     AMC13
print(161): /Equipment/MasterGM2/Settings/Globals Front End Offset                 1
print(162): /Equipment/MasterGM2/Settings/Globals Simulator name                   CaloSimulatorAMC13
print(163): /Equipment/MasterGM2/Settings/Globals Encoder Front End                AMC13001
print(164): /Equipment/MasterGM2/Settings/Globals Send to event builder            1
print(165): /Equipment/MasterGM2/Settings/Globals Verbose                          0
print(166): /Equipment/MasterGM2/Settings/Globals CCC                              1
print(167): /Equipment/MasterGM2/Settings/Globals Post MTCA Abort State to ECL     1
print(168): /Equipment/MasterGM2/Settings/Globals Preserve TTC Trigger Config      0
print(169): /Equipment/MasterGM2/Settings/Globals Preserve Analog Trigger Config   0
print(170): /Equipment/MasterGM2/Settings/Globals Enable Trigger DB                1
print(171): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog A6 ID          1
print(172): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog T9 ID          1
print(173): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC ID                1
print(174): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC Analog Pulse ID   1
print(175): /Equipment/MasterGM2/Settings/Globals Trigger DB Fanout Delays ID      1
print(176): /Equipment/MasterGM2/Settings/Globals Database Connection              pgsql://g2db-priv:5433/gm2_online_prod gm2_writer gm2_4_writer
print(177): /Equipment/MasterGM2/Settings/Globals Internal Trig Alarm Thresh (s)   30
print(178): /Equipment/MasterGM2/Settings/Globals T9A6Gap (ns)                     8654175
trigger source 3 GPS 3
Buffers Used:   0, Buffers Capacity: 584
Waiting 3 s before starting CCC run ...
CCC: Starting the run ...
Started run 11
EOR received: End of run 11
CCC: Stopping the run ...
TTS status at end of run
     CCC:  RDY (BUSY - 0.0 msec ago)</pre><pre class="hljs"><code>Buffers Used:   0, Buffers Capacity: 584
Frontend Initialization Complete
OK
BOR Received: Run 11
print(155): /Equipment/MasterGM2/Settings/Globals Trigger source                   GPS
print(156): /Equipment/MasterGM2/Settings/Globals Socket trigger IP address        127.0.0.1
print(157): /Equipment/MasterGM2/Settings/Globals Socket trigger port              55000
print(158): /Equipment/MasterGM2/Settings/Globals Rate                             12.000000
print(159): /Equipment/MasterGM2/Settings/Globals Fills per bunch                  8
print(160): /Equipment/MasterGM2/Settings/Globals Readout name                     AMC13
print(161): /Equipment/MasterGM2/Settings/Globals Front End Offset                 1
print(162): /Equipment/MasterGM2/Settings/Globals Simulator name                   CaloSimulatorAMC13
print(163): /Equipment/MasterGM2/Settings/Globals Encoder Front End                AMC13001
print(164): /Equipment/MasterGM2/Settings/Globals Send to event builder            1
print(165): /Equipment/MasterGM2/Settings/Globals Verbose                          0
print(166): /Equipment/MasterGM2/Settings/Globals CCC                              1
print(167): /Equipment/MasterGM2/Settings/Globals Post MTCA Abort State to ECL     1
print(168): /Equipment/MasterGM2/Settings/Globals Preserve TTC Trigger Config      0
print(169): /Equipment/MasterGM2/Settings/Globals Preserve Analog Trigger Config   0
print(170): /Equipment/MasterGM2/Settings/Globals Enable Trigger DB                1
print(171): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog A6 ID          1
print(172): /Equipment/MasterGM2/Settings/Globals Trigger DB Analog T9 ID          1
print(173): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC ID                1
print(174): /Equipment/MasterGM2/Settings/Globals Trigger DB TTC Analog Pulse ID   1
print(175): /Equipment/MasterGM2/Settings/Globals Trigger DB Fanout Delays ID      1
print(176): /Equipment/MasterGM2/Settings/Globals Database Connection              pgsql://g2db-priv:5433/gm2_online_prod gm2_writer gm2_4_writer
print(177): /Equipment/MasterGM2/Settings/Globals Internal Trig Alarm Thresh (s)   30
print(178): /Equipment/MasterGM2/Settings/Globals T9A6Gap (ns)                     8654175
trigger source 3 GPS 3
Buffers Used:   0, Buffers Capacity: 584
Waiting 3 s before starting CCC run ...
CCC: Starting the run ...
Started run 11
EOR received: End of run 11
CCC: Stopping the run ...
TTS status at end of run
     CCC:  RDY (BUSY - 0.0 msec ago)</code></pre></div>
<p><strong>CaloReadoutAMC13</strong></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">OK
BOR Received: Run 11
Finished ODB enabled checksmake map between detector array and module, channelsitq = 0
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
make map between detector array and module, channelsitq = 1
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
make map between detector array and module, channelsitq = 2
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
make map between detector array and module, channelsitq = 3
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
--&gt; entering setMasterRegister to write node CBUF.ACQUIRE
--&gt; entering getMasterRegister to read node CBUF.ACQUIRE
&lt;-- leaving getMasterRegister after success
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 0 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER0
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 0 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 1 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER1
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 1 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 2 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER2
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 2 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 3 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER3
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 3 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 4 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER4
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 4 Firmware Version
TTC ASYNC FROM ODB: 0
         prescale factor: 20
tcp_thread(622): start read of new event, fill 0, buffer 0
tcp_client_bor(481): begin-of-run TCP fill number 0
ReadXBytes(875): ReadXBytes :: x = 8
Entered setThrottleTriggers from frontend 1 with value 0
Started run 11
ReadXBytes(919): socket file descriptor 24, request 8 bytes, read 0 bytes, tries 1000
tcp_thread(622): start read of new event, fill 0, buffer 0
ReadXBytes(875): ReadXBytes :: x = 8
...</pre><pre class="hljs"><code>OK
BOR Received: Run 11
Finished ODB enabled checksmake map between detector array and module, channelsitq = 0
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
make map between detector array and module, channelsitq = 1
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
make map between detector array and module, channelsitq = 2
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
make map between detector array and module, channelsitq = 3
Rider 5...Enabled
im = 4, ic = 0, ix = 5, iy = 1
calo segment x,y 5, 1  map_from_caloxy_to_ridermodchan 20
im = 4, ic = 1, ix = 5, iy = 2
calo segment x,y 5, 2  map_from_caloxy_to_ridermodchan 21
im = 4, ic = 2, ix = 5, iy = 3
calo segment x,y 5, 3  map_from_caloxy_to_ridermodchan 22
im = 4, ic = 3, ix = 5, iy = 4
calo segment x,y 5, 4  map_from_caloxy_to_ridermodchan 23
im = 4, ic = 4, ix = 5, iy = 5
calo segment x,y 5, 5  map_from_caloxy_to_ridermodchan 24
--&gt; entering setMasterRegister to write node CBUF.ACQUIRE
--&gt; entering getMasterRegister to read node CBUF.ACQUIRE
&lt;-- leaving getMasterRegister after success
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 0 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER0
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 0 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 1 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER1
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 1 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 2 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER2
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 2 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 3 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER3
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 3 Firmware Version
begin_of_run_wfd(2080): Slot 05: Read: Channel FPGA 4 Buffer Size
--&gt; entering getMasterRegister to read node STATUS.BUFFER4
&lt;-- leaving getMasterRegister after success
begin_of_run_wfd(2093): Slot 05: Read: Channel FPGA 4 Firmware Version
TTC ASYNC FROM ODB: 0
         prescale factor: 20
tcp_thread(622): start read of new event, fill 0, buffer 0
tcp_client_bor(481): begin-of-run TCP fill number 0
ReadXBytes(875): ReadXBytes :: x = 8
Entered setThrottleTriggers from frontend 1 with value 0
Started run 11
ReadXBytes(919): socket file descriptor 24, request 8 bytes, read 0 bytes, tries 1000
tcp_thread(622): start read of new event, fill 0, buffer 0
ReadXBytes(875): ReadXBytes :: x = 8
...</code></pre></div>
<p>After forcefully closing the Master:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">tcp_client_eor(505): end-of-run TCP fill number 0
--&gt; entering setMasterRegister to write node CBUF.ACQUIRE
--&gt; entering getMasterRegister to read node CBUF.ACQUIRE
&lt;-- leaving getMasterRegister after success
&lt;-- leaving getMasterRegister after success
ReadXBytes(919): socket file descriptor 24, request 8 bytes, read 0 bytes, tries 1000
Run stopped</pre><pre class="hljs"><code>tcp_client_eor(<span class="hljs-number">505</span>): <span class="hljs-keyword">end</span>-<span class="hljs-keyword">of</span>-run TCP fill <span class="hljs-built_in">number</span> <span class="hljs-number">0</span>
<span class="hljs-comment">--&gt; entering setMasterRegister to write node CBUF.ACQUIRE</span>
<span class="hljs-comment">--&gt; entering getMasterRegister to read node CBUF.ACQUIRE</span>
&lt;<span class="hljs-comment">-- leaving getMasterRegister after success</span>
&lt;<span class="hljs-comment">-- leaving getMasterRegister after success</span>
ReadXBytes(<span class="hljs-number">919</span>): <span class="hljs-built_in">socket</span> <span class="hljs-built_in">file</span> descriptor <span class="hljs-number">24</span>, request <span class="hljs-number">8</span> <span class="hljs-keyword">bytes</span>, <span class="hljs-built_in">read</span> <span class="hljs-number">0</span> <span class="hljs-keyword">bytes</span>, tries <span class="hljs-number">1000</span>
Run stopped</code></pre></div>
<hr>
<h2 id="03042024-1308">03/04/2024 13:08</h2>
<p>By adding this line:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@dhcp-10-163-105-238 subprocess_scripts]# cat /root/.screenrc
shell -/bin/bash -c &quot;export LD_LIBRARY_PATH=$LD_LIBRARY_PATH &amp;&amp; exec /bin/bash&quot;

[root@dhcp-10-163-105-238 subprocess_scripts]#</pre><pre class="hljs"><code>[root@dhcp<span class="hljs-string">-10</span><span class="hljs-string">-163</span><span class="hljs-string">-105</span><span class="hljs-string">-238</span> subprocess_scripts]# cat /root/.screenrc
shell -/bin/bash -c &quot;export LD_LIBRARY_PATH=$LD_LIBRARY_PATH &amp;&amp; exec /bin/bash&quot;

[root@dhcp<span class="hljs-string">-10</span><span class="hljs-string">-163</span><span class="hljs-string">-105</span><span class="hljs-string">-238</span> subprocess_scripts]#</code></pre></div>
<p>And also adding the bottom line to .bashrc:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">[root@dhcp-10-163-105-238 subprocess_scripts]# cat /root/.bashrc
# .bashrc

# User specific aliases and functions

alias rm='rm -i'
alias cp='cp -i'
alias mv='mv -i'

# Source global definitions
if [ -f /etc/bashrc ]; then
        . /etc/bashrc
fi
source /home/installation_testing/packages/experiment/lxedaq/environment_setup/setup_environment.sh --silent
[root@dhcp-10-163-105-238 subprocess_scripts]#</pre><pre class="hljs"><code>[root@dhcp-10-163-105-238 subprocess_scripts]<span class="hljs-comment"># cat /root/.bashrc</span>
<span class="hljs-comment"># .bashrc</span>

<span class="hljs-comment"># User specific aliases and functions</span>

<span class="hljs-built_in">alias</span> <span class="hljs-built_in">rm</span>=<span class="hljs-string">&#x27;rm -i&#x27;</span>
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">cp</span>=<span class="hljs-string">&#x27;cp -i&#x27;</span>
<span class="hljs-built_in">alias</span> <span class="hljs-built_in">mv</span>=<span class="hljs-string">&#x27;mv -i&#x27;</span>

<span class="hljs-comment"># Source global definitions</span>
<span class="hljs-keyword">if</span> [ -f /etc/bashrc ]; <span class="hljs-keyword">then</span>
        . /etc/bashrc
<span class="hljs-keyword">fi</span>
<span class="hljs-built_in">source</span> /home/installation_testing/packages/experiment/lxedaq/environment_setup/setup_environment.sh --silent
[root@dhcp-10-163-105-238 subprocess_scripts]<span class="hljs-comment">#</span></code></pre></div>
<p>I'm able to screen the master and amc13001 frontends with the following commands</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">cd /home/installation_testing/packages/experiment/lxedaq/frontends/MasterGM2
./start-fe-uky.sh DAQ master
cd /home/installation_testing/packages/experiment/lxedaq/frontends/CaloReadoutAMC13
./start-fe-uky.sh 1 DAQ amc13001
</pre><pre class="hljs"><code>cd <span class="hljs-regexp">/home/i</span>nstallation_testing<span class="hljs-regexp">/packages/</span>experiment<span class="hljs-regexp">/lxedaq/</span>frontends/MasterGM2
./start-fe-uky.sh DAQ master
cd <span class="hljs-regexp">/home/i</span>nstallation_testing<span class="hljs-regexp">/packages/</span>experiment<span class="hljs-regexp">/lxedaq/</span>frontends/CaloReadoutAMC13
./start-fe-uky.sh <span class="hljs-number">1</span> DAQ amc13001
</code></pre></div>
<p>to make it so you can just click the program in midas, I changed the following settings:<br>
<img src="../_resources/b75f67ddb4f84777b04216ff5ddcd294.png" alt="491c82658d6e759c0a961557a4dee79b.png"><br>
<img src="../_resources/d94c998db8bb40e6a3a9b3013ca75614.png" alt="e65c1382478ab1f5d0366e67314a7422.png"></p>
<hr>
</div></div>
					</body>
				</html>
			