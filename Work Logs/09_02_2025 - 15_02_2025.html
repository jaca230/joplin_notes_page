
				<!DOCTYPE html>
				<html>
					<head>
						<meta charset="UTF-8">
						<meta name="viewport" content="width=device-width, initial-scale=1" />
						<link rel="stylesheet" href="pluginAssets/katex/katex.css"><link rel="stylesheet" href="pluginAssets/jsdraw__markdownIt_editDrawingButton/markdownIt.css"><link rel="stylesheet" href="pluginAssets/highlight.js/atom-one-light.css">
						<title>09/02/2025 - 15/02/2025</title>
					</head>
					<body>
						<div class="exported-note"><div class="exported-note-title">09/02/2025 - 15/02/2025</div>

<style>
		/* https://necolas.github.io/normalize.css/ */
		html{line-height:1.15;-ms-text-size-adjust:100%;-webkit-text-size-adjust:100%}body{margin:0}
		article,aside,footer,header,nav,section{display:block}h1{font-size:2em;margin:.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}
		pre{font-family:monospace,monospace;font-size:1em}a{background-color:transparent;-webkit-text-decoration-skip:objects}
		b,strong{font-weight:bolder}small{font-size:80%}img{border-style:none}

		body {
			font-size: 15px;
			color: #32373F;
			word-wrap: break-word;
			line-height: 1.6em;
			background-color: #ffffff;
			font-family: 'Avenir Next', 'Avenir', 'Arial', sans-serif;
			padding-bottom: 0px;
			padding-top: 0px;
		}
		kbd {
			border: 1px solid rgb(220, 220, 220);
			box-shadow: inset 0 -1px 0 rgb(220, 220, 220);
			padding: 2px 4px;
			border-radius: 3px;
			background-color: rgb(243, 243, 243);
		}

		:root {
			--scrollbar-size: 7px;
		}

		::-webkit-scrollbar {
			width: var(--scrollbar-size);
			height: var(--scrollbar-size);
		}
		::-webkit-scrollbar-thumb {
			border-radius: calc(var(--scrollbar-size) / 2);
		}
		::-webkit-scrollbar-corner {
			background: none;
		}
		::-webkit-scrollbar-track {
			border: none;
		}
		::-webkit-scrollbar-thumb {
			background: rgba(100, 100, 100, 0.3); 
			border-radius: 5px;
		}
		::-webkit-scrollbar-track:hover {
			background: rgba(0, 0, 0, 0.1); 
		}
		::-webkit-scrollbar-thumb:hover {
			background: rgba(100, 100, 100, 0.7); 
		}

		

		/* Remove top padding and margin from first child so that top of rendered text is aligned to top of text editor text */

		#rendered-md > h1:first-child,
		#rendered-md > h2:first-child,
		#rendered-md > h3:first-child,
		#rendered-md > h4:first-child,
		#rendered-md > ul:first-child,
		#rendered-md > ol:first-child,
		#rendered-md > table:first-child,
		#rendered-md > blockquote:first-child,
		#rendered-md > img:first-child,
		#rendered-md > p:first-child {
			margin-top: 0;
			padding-top: 0;
		}
		
		p, h1, h2, h3, h4, h5, h6, ul, table {
			margin-top: .6em;
			margin-bottom: 1.35em;

			/*
				Adds support for RTL text in the note body. It automatically detects the direction using the content.
				Issue: https://github.com/laurent22/joplin/issues/3991
			*/
			unicode-bidi: plaintext;
		}

		h1, h2, h3, h4, h5, h6, ul, table {
			margin-bottom: 0.65em;
		}

		h1, h2, h3, h4, h5, h6 {
			line-height: 1.5em;
		}
		h1 {
			font-size: 1.5em;
			font-weight: bold;
			border-bottom: 1px solid #dddddd;
			padding-bottom: .3em;
		}
		h2 {
			font-size: 1.3em;
			font-weight: bold;
			padding-bottom: .1em; */
		}
		h3 {
			font-size: 1.1em;
			font-weight: bold;
		}
		h4, h5, h6 {
			font-size: 1em;
			font-weight: bold;
		}

		.exported-note-title {
			font-size: 2em;
			font-weight: bold;
			margin-bottom: 0.8em;
			line-height: 1.5em;
			padding-bottom: .35em;
			border-bottom: 1px solid #dddddd;
		}

		a {
			color: #155BDA;
		}
		ul, ol {
			padding-left: 0;
			margin-left: 1.7em;
		}
		li {
			margin-bottom: .4em;
		}
		li p {
			margin-top: 0.2em;
			margin-bottom: 0;
		}

		.resource-icon {
			display: inline-block;
			position: relative;
			top: 0.3em;
			text-decoration: none;
			width: 1.2em;
			height: 1.4em;
			margin-right: 0.4em;
			background-color:  #155BDA;
		}
    /* These icons are obtained from the wonderful ForkAwesome project by copying the src svgs 
     * into the css classes below.
     * svgs are obtained from https://github.com/ForkAwesome/Fork-Awesome/tree/master/src/icons/svg
     * instead of the svg width, height property you must use a viewbox here, 0 0 1536 1792 is typically the actual size of the icon
     * each line begins with the pre-amble -webkit-mask: url("data:image/svg+xml;utf8,
     * and of course finishes with ");
     * to prevent artifacts it is also necessary to include -webkit-mask-repeat: no-repeat;
     * on the following line
     * */
		.fa-joplin {
			/* Awesome Font file */
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M373.834 128C168.227 128 0 296.223 0 501.834v788.336C0 1495.778 168.227 1664 373.834 1664h788.336c205.608 0 373.83-168.222 373.83-373.83V501.834C1536 296.224 1367.778 128 1162.17 128zm397.222 205.431h417.424a7.132 7.132 0 0 1 7.132 7.133v132.552c0 4.461-3.619 8.073-8.077 8.073h-57.23c-24.168 0-43.768 19.338-44.284 43.374v2.377h-.017v136.191h-.053l-.466 509.375c-5.02 77.667-39.222 149.056-96.324 201.046-60.28 54.834-141.948 85.017-229.962 85.017-12.45 0-25.208-.61-37.907-1.785-92.157-8.682-181.494-48.601-251.662-112.438-71.99-65.517-117.147-150.03-127.164-238-11.226-98.763 23.42-192.783 95.045-257.937 81.99-74.637 198.185-101.768 316.613-75.704 5.574 1.227 9.55 6.282 9.55 11.997v199.52c-.199 2.625-1.481 6.599-8.183 2.896-.663-.365-1.194-.511-1.653-.531-21.987-10.587-45.159-17.57-68.559-19.916-.38-.04-.757-.124-1.138-.163-.537-.048-1.034-.033-1.556-.075-4.13-.354-8.183-.517-12.203-.58-.87-.011-1.771-.127-2.641-.127-.486 0-.951.05-1.437.057-1.464.011-2.886.115-4.33.163-2.76.102-5.497.211-8.182.448-.273.024-.547.07-.835.097-25.509 2.4-47.864 11.104-65.012 25.47-.954.802-1.974 1.53-2.9 2.36a1.34 1.34 0 0 1-.168.146c-23.96 21.8-34.881 53.872-30.726 90.316 4.62 40.737 26.94 81.156 62.841 113.823 35.908 32.67 80.335 52.977 125.113 57.186 35.118 3.36 66.547-3.919 89.899-20.461a97.255 97.255 0 0 0 9.365-7.501c2.925-2.661 5.569-5.5 8.086-8.416.3-.348.672-.673.975-1.024 8.253-9.864 14.222-21.067 17.996-33.148.639-2.034 1.051-4.148 1.564-6.227.381-1.563.81-3.106 1.112-4.693.555-2.784.923-5.632 1.253-8.49.086-.709.183-1.414.237-2.128.492-4.893.693-9.858.55-14.91h.013V521.623c-2.01-22.626-20.78-40.434-43.928-40.434h-57.23a8.071 8.071 0 0 1-8.077-8.073V340.564a7.132 7.132 0 0 1 7.136-7.133z'/></svg>");
		}
		.fa-file-image {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-128-448v320H256v-192l192-192 128 128 384-384zm-832-192c-106 0-192-86-192-192s86-192 192-192 192 86 192 192-86 192-192 192z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-pdf {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-514-593c25 20 53 38 84 56 42-5 81-7 117-7 67 0 152 8 177 49 7 10 13 28 2 52-1 1-2 3-3 4v1c-3 18-18 38-71 38-64 0-161-29-245-73-139 15-285 46-392 83-103 176-182 262-242 262-10 0-19-2-28-7l-24-12c-3-1-4-3-6-5-5-5-9-16-6-36 10-46 64-123 188-188 8-5 18-2 23 6 1 1 2 3 2 4 31-51 67-116 107-197 45-90 80-178 104-262-32-109-42-221-24-287 7-25 22-40 42-40h22c15 0 27 5 35 15 12 14 15 36 9 68-1 3-2 6-4 8 1 3 1 5 1 8v30c-1 63-2 123-14 192 35 105 87 190 146 238zm-576 411c30-14 73-57 137-158-75 58-122 124-137 158zm398-920c-10 28-10 76-2 132 3-16 5-31 7-44 2-17 5-31 7-43 1-3 2-5 4-8-1-1-1-3-2-5-1-18-7-29-13-36 0 2-1 3-1 4zm-124 661c88-35 186-63 284-81-10-8-20-15-29-23-49-43-93-103-127-176-19 61-47 126-83 197-15 28-30 56-45 83zm646-16c-5-5-31-24-140-24 49 18 94 28 124 28 9 0 14 0 18-1 0-1-1-2-2-3z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-word {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM233 768v107h70l164 661h159l128-485c5-15 8-30 10-46 1-8 2-16 2-24h4l3 24c3 14 4 30 9 46l128 485h159l164-661h70V768h-300v107h90l-99 438c-4 16-6 33-7 46l-2 21h-4c0-6-2-14-3-21-3-13-5-30-9-46L825 768H711l-144 545c-4 16-5 33-8 46l-4 21h-4l-2-21c-1-13-3-30-7-46l-99-438h90V768H233z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-powerpoint {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-992-234v106h327v-106h-93v-167h137c43 0 82-2 118-15 90-31 146-124 146-233s-54-193-137-228c-38-15-84-19-130-19H416v107h92v555h-92zm353-280H650V882h120c35 0 62 6 83 18 36 21 56 62 56 115 0 56-20 99-62 120-21 10-47 15-78 15z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-excel {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zm-979-234v106h281v-106h-75l103-161c12-19 18-34 21-34h2c1 4 3 7 5 10 4 8 10 14 17 24l107 161h-76v106h291v-106h-68l-192-273 195-282h67V768H828v107h74l-103 159c-12 19-21 34-21 33h-2c-1-4-3-7-5-10-4-7-9-14-17-23L648 875h76V768H434v107h68l189 272-194 283h-68z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-audio {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM620 850c12 5 20 17 20 30v544c0 13-8 25-20 30-4 1-8 2-12 2-8 0-16-3-23-9l-166-167H288c-18 0-32-14-32-32v-192c0-18 14-32 32-32h131l166-167c10-9 23-12 35-7zm417 689c19 0 37-8 50-24 83-102 129-231 129-363s-46-261-129-363c-22-28-63-32-90-10-28 23-32 63-9 91 65 80 100 178 100 282s-35 202-100 282c-23 28-19 68 9 90 12 10 26 15 40 15zm-211-148c17 0 34-7 47-20 56-60 87-137 87-219s-31-159-87-219c-24-26-65-27-91-3-25 24-27 65-2 91 33 36 52 82 52 131s-19 95-52 131c-25 26-23 67 2 91 13 11 29 17 44 17z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-video {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM768 768c70 0 128 58 128 128v384c0 70-58 128-128 128H384c-70 0-128-58-128-128V896c0-70 58-128 128-128h384zm492 2c12 5 20 17 20 30v576c0 13-8 25-20 30-4 1-8 2-12 2-8 0-17-3-23-9l-265-266v-90l265-266c6-6 15-9 23-9 4 0 8 1 12 2z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-archive {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M640 384V256H512v128h128zm128 128V384H640v128h128zM640 640V512H512v128h128zm128 128V640H640v128h128zm700-388c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H768v128H640V128H128v1536h1280zM781 943c85 287 107 349 107 349 5 17 8 34 8 52 0 111-108 192-256 192s-256-81-256-192c0-18 3-35 8-52 0 0 21-62 120-396V768h128v128h79c29 0 54 19 62 47zm-141 465c71 0 128-29 128-64s-57-64-128-64-128 29-128 64 57 64 128 64z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-code {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM480 768c11-14 31-17 45-6l51 38c14 11 17 31 6 45l-182 243 182 243c11 14 8 34-6 45l-51 38c-14 11-34 8-45-6l-226-301c-8-11-8-27 0-38zm802 301c8 11 8 27 0 38l-226 301c-11 14-31 17-45 6l-51-38c-14-11-17-31-6-45l182-243-182-243c-11-14-8-34 6-45l51-38c14-11 34-8 45 6zm-620 461c-18-3-29-20-26-37l138-831c3-18 20-29 37-26l63 10c18 3 29 20 26 37l-138 831c-3 18-20 29-37 26z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file-alt, .fa-file-csv {
      /* fork-awesome doesn't have csv so we use the text icon */
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280zM384 800c0-18 14-32 32-32h704c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64zm736 224c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64c0-18 14-32 32-32h704zm0 256c18 0 32 14 32 32v64c0 18-14 32-32 32H416c-18 0-32-14-32-32v-64c0-18 14-32 32-32h704z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		.fa-file {
			-webkit-mask: url("data:image/svg+xml;utf8,<svg viewBox='0 0 1536 1792' xmlns='http://www.w3.org/2000/svg'><path d='M1468 380c37 37 68 111 68 164v1152c0 53-43 96-96 96H96c-53 0-96-43-96-96V96C0 43 43 0 96 0h896c53 0 127 31 164 68zm-444-244v376h376c-6-17-15-34-22-41l-313-313c-7-7-24-16-41-22zm384 1528V640H992c-53 0-96-43-96-96V128H128v1536h1280z'/></svg>");
      -webkit-mask-repeat: no-repeat;
		}
		blockquote {
			border-left: 4px solid rgb(220, 220, 220);
			padding-left: 1.2em;
			margin-left: 0;
			opacity: 0.7;
		}

		.jop-tinymce table,
		table {
			text-align: left;
			border-collapse: collapse;
			border: 1px solid rgb(220, 220, 220);
			background-color: #ffffff;
		}

		.jop-tinymce table td, .jop-tinymce table th,
		table td, th {
			text-align: left;
			padding: .5em 1em .5em 1em;
			font-size: 15;
			color: #32373F;
			font-family: 'Avenir Next', 'Avenir', 'Arial', sans-serif;
		}

		.jop-tinymce table td,
		table td {
			border: 1px solid rgb(220, 220, 220);
		}

		.jop-tinymce table th,
		table th {
			border: 1px solid rgb(220, 220, 220);
			border-bottom: 2px solid rgb(220, 220, 220);
			background-color: rgb(247, 247, 247);
		}

		.jop-tinymce table tr:nth-child(even),
		table tr:nth-child(even) {
			background-color: rgb(247, 247, 247);
		}

		.jop-tinymce table tr:hover,
		table tr:hover {
			background-color: #e5e5e5;
		}

		hr {
			border: none;
			border-bottom: 2px solid #dddddd;
		}
		img {
			max-width: 100%;
			height: auto;
		}
		
		.inline-code,
		.mce-content-body code {
			border: 1px solid rgb(220, 220, 220);
			background-color: rgb(243, 243, 243);
			padding-right: .2em;
			padding-left: .2em;
			border-radius: .25em;
			color: rgb(0,0,0);
			font-size: .9em;
		}

		.highlighted-keyword {
			background-color: #F3B717;
			color: black;
		}

		
	.not-loaded-resource img {
		width: 1.15em;
		height: 1.15em;
		background: white;
		padding: 2px !important;
		border-radius: 2px;
		box-shadow: 0 1px 3px #000000aa;
	}

	a.not-loaded-resource img {
		margin-right: .2em;
	}

	a.not-loaded-resource {
		display: flex;
		flex-direction: row;
		align-items: center;
	}


		.md-checkbox input[type=checkbox]:checked {
			opacity: 0.7;
		}

		.jop-tinymce ul.joplin-checklist .checked,
		.md-checkbox .checkbox-label-checked {
			opacity: 0.5;
		}

		.exported-note {
			padding: 1em;
		}

		.joplin-editable .joplin-source {
			display: none;
		}

		mark {
			background: #F7D26E;
			color: black;
		}

		/* =============================================== */
		/* For TinyMCE */
		/* =============================================== */

		.mce-content-body {
			/* Note: we give a bit more padding at the bottom, to allow scrolling past the end of the document */
			padding: 5px 10px 10em 0;
		}

		/*
		.mce-content-body code {
			background-color: transparent;
		}
		*/

		.mce-content-body [data-mce-selected=inline-boundary] {
			background-color: transparent;
		}

		.mce-content-body .joplin-editable {
			cursor: pointer !important;
		}

		.mce-content-body.mce-content-readonly {
			opacity: 0.5;
		}

		/* We need that to make sure click events have the A has a target */
		.katex a span {
			pointer-events: none;
		}

		.media-player {
			width: 100%;
			margin-top: 10px;
		}

		.media-player.media-pdf {
			min-height: 35rem;
			width: 100%;
			max-width: 1000px;
			margin: 0;
			border: 0;
			display: block;
		}

		/* Clear the CODE style if the element is within a joplin-editable block */
		.mce-content-body .joplin-editable code {
			border: none;
			background: none;
			padding: 0;
			color: inherit;
			font-size: inherit;
		}

		/* To make code blocks horizontally scrollable */
		/* https://github.com/laurent22/joplin/issues/5740 */
		pre.hljs {
			overflow-x: auto;
		}

		.joplin-table-wrapper{
			overflow-x: auto;
			overflow-y: hidden;
		}

		/* =============================================== */
		/* For TinyMCE */
		/* =============================================== */

		@media print {
			body {
				height: auto !important;
			}

			pre {
				white-space: pre-wrap;
			}

			.code, .inline-code {
				border: 1px solid #CBCBCB;
			}

			#joplin-container-content {
				/* The height of the content is set dynamically by JavaScript (in updateBodyHeight) to go
				   around various issues related to scrolling. However when printing we don't want this
				   fixed size as that would crop the content. So we set it to auto here. "important" is
				   needed to override the style set by JavaScript at the element-level. */
				height: auto !important;
			}
		}
	

				/*
					FOR THE MARKDOWN EDITOR
				*/

				/* Remove the indentation from the checkboxes at the root of the document
				   (otherwise they are too far right), but keep it for their children to allow
				   nested lists. Make sure this value matches the UL margin. */

				li.md-checkbox {
					list-style-type: none;
				}

				li.md-checkbox input[type=checkbox] {
					margin-left: -1.71em;
					margin-right: 0.7em;
					position: relative;
					top: 1px;
				}
				
				ul.joplin-checklist {
					list-style:none;
				}

				/*
					FOR THE RICH TEXT EDITOR
				*/

				ul.joplin-checklist li::before {
					content:"\f14a";
					font-family:"Font Awesome 5 Free";
					background-size: 16px 16px;
					pointer-events: all;
					cursor: pointer;
					width: 1em;
					height: 1em;
					margin-left: -1.3em;
					position: absolute;
					color: #32373F;
				}

				.joplin-checklist li:not(.checked)::before {
					content:"\f0c8";
				}
.mermaid { width: 640px; }
pre.mermaid[data-processed=true] { white-space: unset; }
.mermaid-export-graph {
					opacity: 0;
					height: 0;
					z-index: 1;
					position: relative;
				} 
				.joplin-editable:hover .mermaid-export-graph,
				.joplin-editable .mermaid-export-graph:has(:focus-visible) {
					opacity: 1;
				}
				.mermaid-export-graph > button:hover {
					background-color: #CBDAF1 !important;
				}</style><div id="rendered-md"><h2 id="09022025-1706">09/02/2025 17:06</h2>
<p>I accidentally discovered there are sometimes errenous packets with extra information...</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Invalid packet size: 90
Invalid packet size: 106
Invalid packet size: 90</pre><pre class="hljs"><code><span class="hljs-attribute">Invalid</span> packet size: <span class="hljs-number">90</span>
<span class="hljs-attribute">Invalid</span> packet size: <span class="hljs-number">106</span>
<span class="hljs-attribute">Invalid</span> packet size: <span class="hljs-number">90</span></code></pre></div>
<p>They seem to have a multiplicity of 16 extra bytes and they throw off the parsing:</p>
<p>here are some examples:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Channel: 0, Trigger Time: 16047600
  Logical Position: 0, Physical Position: 60
  Samples: 1518 1473 1471 1492 1489 1498 1471 1469 1442 1476 1504 1504 1467 1492 1423 1474 1487 1513 1516 1485 1512 1495 1486 1494 1468 1494 1472 1024 0 0 0 0
  Footer: 0, 0
-------------------------------------------------
Channel: 0, Trigger Time: 16065155
  Logical Position: 0, Physical Position: 7
  Samples: 1486 1498 1502 1512 1489 1496 1490 1486 1490 1510 1466 1494 1490 1470 1478 1460 1467 1496 1511 1498 1472 1024 0 0 0 0 0 0 0 1460 1504 1496
  Footer: 5, 212
-------------------------------------------------
Channel: 0, Trigger Time: 16083744
  Logical Position: 0, Physical Position: 58
  Samples: 1496 1451 1472 1487 1486 1489 1468 1474 1472 1513 1466 1476 1465 1498 1465 1024 0 0 0 0 0 0 0 1474 1492 1537 1504 1487 1491 1487 1443 1480
  Footer: 5, 224
-------------------------------------------------
Channel: 0, Trigger Time: 16101300
  Logical Position: 0, Physical Position: 6
  Samples: 1530 1478 1437 1521 1487 1518 1476 1474 1486 1024 0 0 0 0 0 0 0 1486 1486 1490 1487 1462 1478 1472 1475 1513 1520 1493 1504 1525 1516 1520
  Footer: 5, 238
-------------------------------------------------
Channel: 0, Trigger Time: 16119889
  Logical Position: 0, Physical Position: 57
  Samples: 1494 1491 1518 1024 0 0 0 0 0 0 0 1517 1465 1500 1504 1468 1504 1506 1510 1463 1484 1492 1515 1494 1512 1542 1516 1492 1502 1503 1496 1464
  Footer: 5, 224
-------------------------------------------------</pre><pre class="hljs"><code>Channel: 0, Trigger Time: 16047600
  Logical Position: 0, Physical Position: 60
  Samples: 1518 1473 1471 1492 1489 1498 1471 1469 1442 1476 1504 1504 1467 1492 1423 1474 1487 1513 1516 1485 1512 1495 1486 1494 1468 1494 1472 1024 0 0 0 0
  Footer: 0, 0
-------------------------------------------------
Channel: 0, Trigger Time: 16065155
  Logical Position: 0, Physical Position: 7
  Samples: 1486 1498 1502 1512 1489 1496 1490 1486 1490 1510 1466 1494 1490 1470 1478 1460 1467 1496 1511 1498 1472 1024 0 0 0 0 0 0 0 1460 1504 1496
  Footer: 5, 212
-------------------------------------------------
Channel: 0, Trigger Time: 16083744
  Logical Position: 0, Physical Position: 58
  Samples: 1496 1451 1472 1487 1486 1489 1468 1474 1472 1513 1466 1476 1465 1498 1465 1024 0 0 0 0 0 0 0 1474 1492 1537 1504 1487 1491 1487 1443 1480
  Footer: 5, 224
-------------------------------------------------
Channel: 0, Trigger Time: 16101300
  Logical Position: 0, Physical Position: 6
  Samples: 1530 1478 1437 1521 1487 1518 1476 1474 1486 1024 0 0 0 0 0 0 0 1486 1486 1490 1487 1462 1478 1472 1475 1513 1520 1493 1504 1525 1516 1520
  Footer: 5, 238
-------------------------------------------------
Channel: 0, Trigger Time: 16119889
  Logical Position: 0, Physical Position: 57
  Samples: 1494 1491 1518 1024 0 0 0 0 0 0 0 1517 1465 1500 1504 1468 1504 1506 1510 1463 1484 1492 1515 1494 1512 1542 1516 1492 1502 1503 1496 1464
  Footer: 5, 224
-------------------------------------------------</code></pre></div>
<p>It seems like zome zeros are just randomly inserted into the packet? Not sure what's going on here? Something with UDP???</p>
<hr>
<h2 id="09022025-1810">09/02/2025 18:10</h2>
<p>By &quot;optomizing&quot; the packet reading, I'm able to read in packets at around 300 MB/s is C++ (corresponding to an actual trace data rate of ~48 data bytes/72 packet byes ~ 2/3, then 2/3 * 300 MB/s ~ 200 MB/s):</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Running the executable...
File reading time: 0.0528991 seconds
Error count: 1004
Total count: 14225
Error Percentage: 7.058%
Chunking time: 0.00230152 seconds
Raw parsing time: 0.000647574 seconds
Non-raw parsing time: 0.00704113 seconds

First 5 raw parsed packets:
Channel: 0, Trigger Time: 16031077
  Logical Position: 0, Physical Position: 29
  Raw Samples: 5 216 5 231 5 223 5 235 5 194 5 209 5 212 5 190 5 208 5 210 5 206 5 187 5 184 5 186 5 200 5 214 5 184 5 226 5 217 5 205 5 209 5 209 5 216 5 236 5 228 5 164 5 202 5 184 5 214 5 206 5 209 6 23
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16032109
  Logical Position: 0, Physical Position: 7
  Raw Samples: 5 209 5 218 5 224 5 234 5 208 5 217 5 210 5 208 5 212 5 228 5 188 5 210 5 211 5 191 5 200 5 181 5 187 5 216 5 232 5 218 5 188 5 181 5 225 5 220 5 212 5 207 5 240 5 214 5 224 5 215 5 214 5 238
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16033142
  Logical Position: 0, Physical Position: 48
  Raw Samples: 5 229 5 175 5 162 5 239 5 248 5 201 5 235 5 214 5 226 5 217 5 200 5 214 5 184 5 197 5 209 5 203 5 229 5 231 5 211 5 204 5 214 5 208 5 161 5 188 5 192 5 214 5 194 5 186 5 187 5 206 5 247 5 213
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16034175
  Logical Position: 0, Physical Position: 27
  Raw Samples: 5 198 5 226 5 212 5 240 5 178 5 215 5 187 5 189 5 196 5 224 5 232 5 206 5 188 5 214 5 238 5 224 5 211 5 243 5 236 5 214 5 222 5 181 5 172 5 163 5 211 5 240 5 232 5 215 5 208 5 220 5 193 5 242
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16035207
  Logical Position: 0, Physical Position: 5
  Raw Samples: 5 223 5 210 5 165 5 232 5 211 5 211 5 216 5 216 5 163 5 225 5 234 5 222 5 203 5 162 5 216 5 210 5 210 5 214 5 222 5 232 5 223 5 208 5 228 5 211 5 210 5 219 5 205 5 174 5 178 5 194 5 206 5 231
  Footer: 250, 90
-------------------------------------------------

First 5 non-raw parsed packets:
Channel: 0, Trigger Time: 16031077
  Logical Position: 0, Physical Position: 29
  Samples: 1496 1511 1503 1515 1474 1489 1492 1470 1488 1490 1486 1467 1464 1466 1480 1494 1464 1506 1497 1485 1489 1489 1496 1516 1508 1444 1482 1464 1494 1486 1489 1559
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16032109
  Logical Position: 0, Physical Position: 7
  Samples: 1489 1498 1504 1514 1488 1497 1490 1488 1492 1508 1468 1490 1491 1471 1480 1461 1467 1496 1512 1498 1468 1461 1505 1500 1492 1487 1520 1494 1504 1495 1494 1518
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16033142
  Logical Position: 0, Physical Position: 48
  Samples: 1509 1455 1442 1519 1528 1481 1515 1494 1506 1497 1480 1494 1464 1477 1489 1483 1509 1511 1491 1484 1494 1488 1441 1468 1472 1494 1474 1466 1467 1486 1527 1493
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16034175
  Logical Position: 0, Physical Position: 27
  Samples: 1478 1506 1492 1520 1458 1495 1467 1469 1476 1504 1512 1486 1468 1494 1518 1504 1491 1523 1516 1494 1502 1461 1452 1443 1491 1520 1512 1495 1488 1500 1473 1522
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16035207
  Logical Position: 0, Physical Position: 5
  Samples: 1503 1490 1445 1512 1491 1491 1496 1496 1443 1505 1514 1502 1483 1442 1496 1490 1490 1494 1502 1512 1503 1488 1508 1491 1490 1499 1485 1454 1458 1474 1486 1511
  Footer: 250, 90
-------------------------------------------------
Error count: 1004
Total count: 14225
Error Percentage: 7.058%
Error count: 1004
Total count: 14225
Error Percentage: 7.058%
Raw parsing results:
Total packets processed (raw): 13221
Packets processed per second (raw): 4.31875e+06
Total data rate (raw): 296.545 MB/s
Effective data rate (raw): 197.697 MB/s
Total data processed (raw): 0.907814 MB

Non-raw parsing results:
Total packets processed (non-raw): 13221
Packets processed per second (non-raw): 1.30742e+06
Total data rate (non-raw): 89.7736 MB/s
Effective data rate (non-raw): 59.8491 MB/s
Total data processed (non-raw): 0.907814 MB</pre><pre class="hljs"><code>Running the executable...
File reading time: 0.0528991 seconds
Error count: 1004
Total count: 14225
Error Percentage: 7.058%
Chunking time: 0.00230152 seconds
Raw parsing time: 0.000647574 seconds
Non-raw parsing time: 0.00704113 seconds

First 5 raw parsed packets:
Channel: 0, Trigger Time: 16031077
  Logical Position: 0, Physical Position: 29
  Raw Samples: 5 216 5 231 5 223 5 235 5 194 5 209 5 212 5 190 5 208 5 210 5 206 5 187 5 184 5 186 5 200 5 214 5 184 5 226 5 217 5 205 5 209 5 209 5 216 5 236 5 228 5 164 5 202 5 184 5 214 5 206 5 209 6 23
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16032109
  Logical Position: 0, Physical Position: 7
  Raw Samples: 5 209 5 218 5 224 5 234 5 208 5 217 5 210 5 208 5 212 5 228 5 188 5 210 5 211 5 191 5 200 5 181 5 187 5 216 5 232 5 218 5 188 5 181 5 225 5 220 5 212 5 207 5 240 5 214 5 224 5 215 5 214 5 238
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16033142
  Logical Position: 0, Physical Position: 48
  Raw Samples: 5 229 5 175 5 162 5 239 5 248 5 201 5 235 5 214 5 226 5 217 5 200 5 214 5 184 5 197 5 209 5 203 5 229 5 231 5 211 5 204 5 214 5 208 5 161 5 188 5 192 5 214 5 194 5 186 5 187 5 206 5 247 5 213
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16034175
  Logical Position: 0, Physical Position: 27
  Raw Samples: 5 198 5 226 5 212 5 240 5 178 5 215 5 187 5 189 5 196 5 224 5 232 5 206 5 188 5 214 5 238 5 224 5 211 5 243 5 236 5 214 5 222 5 181 5 172 5 163 5 211 5 240 5 232 5 215 5 208 5 220 5 193 5 242
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16035207
  Logical Position: 0, Physical Position: 5
  Raw Samples: 5 223 5 210 5 165 5 232 5 211 5 211 5 216 5 216 5 163 5 225 5 234 5 222 5 203 5 162 5 216 5 210 5 210 5 214 5 222 5 232 5 223 5 208 5 228 5 211 5 210 5 219 5 205 5 174 5 178 5 194 5 206 5 231
  Footer: 250, 90
-------------------------------------------------

First 5 non-raw parsed packets:
Channel: 0, Trigger Time: 16031077
  Logical Position: 0, Physical Position: 29
  Samples: 1496 1511 1503 1515 1474 1489 1492 1470 1488 1490 1486 1467 1464 1466 1480 1494 1464 1506 1497 1485 1489 1489 1496 1516 1508 1444 1482 1464 1494 1486 1489 1559
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16032109
  Logical Position: 0, Physical Position: 7
  Samples: 1489 1498 1504 1514 1488 1497 1490 1488 1492 1508 1468 1490 1491 1471 1480 1461 1467 1496 1512 1498 1468 1461 1505 1500 1492 1487 1520 1494 1504 1495 1494 1518
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16033142
  Logical Position: 0, Physical Position: 48
  Samples: 1509 1455 1442 1519 1528 1481 1515 1494 1506 1497 1480 1494 1464 1477 1489 1483 1509 1511 1491 1484 1494 1488 1441 1468 1472 1494 1474 1466 1467 1486 1527 1493
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16034175
  Logical Position: 0, Physical Position: 27
  Samples: 1478 1506 1492 1520 1458 1495 1467 1469 1476 1504 1512 1486 1468 1494 1518 1504 1491 1523 1516 1494 1502 1461 1452 1443 1491 1520 1512 1495 1488 1500 1473 1522
  Footer: 250, 90
-------------------------------------------------
Channel: 0, Trigger Time: 16035207
  Logical Position: 0, Physical Position: 5
  Samples: 1503 1490 1445 1512 1491 1491 1496 1496 1443 1505 1514 1502 1483 1442 1496 1490 1490 1494 1502 1512 1503 1488 1508 1491 1490 1499 1485 1454 1458 1474 1486 1511
  Footer: 250, 90
-------------------------------------------------
Error count: 1004
Total count: 14225
Error Percentage: 7.058%
Error count: 1004
Total count: 14225
Error Percentage: 7.058%
Raw parsing results:
Total packets processed (raw): 13221
Packets processed per second (raw): 4.31875e+06
Total data rate (raw): 296.545 MB/s
Effective data rate (raw): 197.697 MB/s
Total data processed (raw): 0.907814 MB

Non-raw parsing results:
Total packets processed (non-raw): 13221
Packets processed per second (non-raw): 1.30742e+06
Total data rate (non-raw): 89.7736 MB/s
Effective data rate (non-raw): 59.8491 MB/s
Total data processed (non-raw): 0.907814 MB</code></pre></div>
<p>I tried to see if I could use pybind to call tehse same methods in python with similar rates. I could not:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Total packets processed: 13221
Packets processed per second: 84074.5658
Total data rate: 5.7729 MB/s
Effective data rate: 3.8486 MB/s
Total data processed: 0.9078 MB</pre><pre class="hljs"><code><span class="hljs-attribute">Total</span> packets processed: <span class="hljs-number">13221</span>
<span class="hljs-attribute">Packets</span> processed per second: <span class="hljs-number">84074</span>.<span class="hljs-number">5658</span>
<span class="hljs-attribute">Total</span> data rate: <span class="hljs-number">5</span>.<span class="hljs-number">7729</span> MB/s
<span class="hljs-attribute">Effective</span> data rate: <span class="hljs-number">3</span>.<span class="hljs-number">8486</span> MB/s
<span class="hljs-attribute">Total</span> data processed: <span class="hljs-number">0</span>.<span class="hljs-number">9078</span> MB</code></pre></div>
<p>It's somehow even slower than doing it in python by hand. Not sure why...</p>
<hr>
<h2 id="09022025-1819">09/02/2025 18:19</h2>
<p>I also computed how many packets have an error (i.e. are not size 74) when chunking packets and I get:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Error count: 1004
Total count: 14225
Error Percentage: 7.058%</pre><pre class="hljs"><code><span class="hljs-keyword">Error </span>count: 1004
Total count: 14225
<span class="hljs-keyword">Error </span>Percentage: 7.058%</code></pre></div>
<p>This becomes difficult to work around when events are constructed from many packets. You can calculate the chance that a full event is errorless with formula:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$$&#10;" data-joplin-source-close="&#10;$$&#10;">\begin{align*}
&amp; P(w,c,E) = (1-E)^{wc}
\end{align*}</pre><span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow></mrow></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mi>P</mi><mo stretchy="false">(</mo><mi>w</mi><mo separator="true">,</mo><mi>c</mi><mo separator="true">,</mo><mi>E</mi><mo stretchy="false">)</mo><mo>=</mo><mo stretchy="false">(</mo><mn>1</mn><mo>−</mo><mi>E</mi><msup><mo stretchy="false">)</mo><mrow><mi>w</mi><mi>c</mi></mrow></msup></mrow></mstyle></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align*}
&amp; P(w,c,E) = (1-E)^{wc}
\end{align*}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1.5em;vertical-align:-0.5em;"></span><span class="mord"><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3em;"><span class="pstrut" style="height:2.84em;"></span><span class="mord"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1em;"><span style="top:-3.16em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mopen">(</span><span class="mord">1</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">−</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mclose"><span class="mclose">)</span><span class="msupsub"><span class="vlist-t"><span class="vlist-r"><span class="vlist" style="height:0.7144em;"><span style="top:-3.113em;margin-right:0.05em;"><span class="pstrut" style="height:2.7em;"></span><span class="sizing reset-size6 size3 mtight"><span class="mord mtight"><span class="mord mathnormal mtight" style="margin-right:0.02691em;">w</span><span class="mord mathnormal mtight">c</span></span></span></span></span></span></span></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.5em;"><span></span></span></span></span></span></span></span></span></span></span></span></div>
<p>where <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">w \equiv</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>w</mi><mo>≡</mo></mrow><annotation encoding="application/x-tex">w \equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4637em;"></span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≡</span></span></span></span></span> windows, <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">c\equiv</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>c</mi><mo>≡</mo></mrow><annotation encoding="application/x-tex">c\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4637em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≡</span></span></span></span></span> channels, and <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">E\equiv</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>E</mi><mo>≡</mo></mrow><annotation encoding="application/x-tex">E\equiv</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.6833em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≡</span></span></span></span></span> Error rate.<br>
For example <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">P(w=1,c=32,E=0.07)\approx 0.10</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>P</mi><mo stretchy="false">(</mo><mi>w</mi><mo>=</mo><mn>1</mn><mo separator="true">,</mo><mi>c</mi><mo>=</mo><mn>32</mn><mo separator="true">,</mo><mi>E</mi><mo>=</mo><mn>0.07</mn><mo stretchy="false">)</mo><mo>≈</mo><mn>0.10</mn></mrow><annotation encoding="application/x-tex">P(w=1,c=32,E=0.07)\approx 0.10</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord mathnormal" style="margin-right:0.13889em;">P</span><span class="mopen">(</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8389em;vertical-align:-0.1944em;"></span><span class="mord">1</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal">c</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.8778em;vertical-align:-0.1944em;"></span><span class="mord">32</span><span class="mpunct">,</span><span class="mspace" style="margin-right:0.1667em;"></span><span class="mord mathnormal" style="margin-right:0.05764em;">E</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">0.07</span><span class="mclose">)</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">≈</span><span class="mspace" style="margin-right:0.2778em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">0.10</span></span></span></span></span>. So even in a very optomistic estimate of our use case, most events will still contain an error.</p>
<p>So I must do some error scrubbing to correct for this.</p>
<hr>
<h2 id="10022025-1154">10/02/2025 11:54</h2>
<p>It seems every packet with an error has one or multiple copies of this 16 byte string &quot;randomly&quot; jamed in there:<br>
<code class="inline-code">b&quot;\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;</code><br>
My best guess is this is some &quot;heartbeat&quot; signal?</p>
<hr>
<h2 id="10022025-1252">10/02/2025 12:52</h2>
<p>Here's an example packet:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Packet:  b'\x0e\x03\x0bV\x08\x93\x00\x01\x07\x00\x06\xe6\x06\xf0\x06\xe8\x078\x06\xf0\x06\xcb\x06\xdd\x07\x02\x06\xe7\x06\xc4\x06\xf2\x06\xb5\x06\xec\x06\xea\x07\x06\x06\xe4\x06\xed\x06\xe3\x06\xea\x06\xe6\x06\xda\x06\xf8\x07\x05\x06\xe0\x06\xea\x06\xe8\x06\xd2\x06\xcb\x06\xd6\x06\xe5\x06\xe8\xfaZ'</pre><pre class="hljs"><code>Packet:  b&#x27;\<span class="hljs-keyword">x</span><span class="hljs-number">0</span>e\<span class="hljs-keyword">x</span><span class="hljs-number">03</span>\<span class="hljs-keyword">x</span><span class="hljs-number">0</span>bV\<span class="hljs-keyword">x</span><span class="hljs-number">08</span>\<span class="hljs-keyword">x</span><span class="hljs-number">93</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">01</span>\<span class="hljs-keyword">x</span><span class="hljs-number">07</span>\<span class="hljs-keyword">x</span><span class="hljs-number">00</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">6</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xf<span class="hljs-number">0</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">8</span>\<span class="hljs-keyword">x</span><span class="hljs-number">078</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xf<span class="hljs-number">0</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xcb\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xdd\<span class="hljs-keyword">x</span><span class="hljs-number">07</span>\<span class="hljs-keyword">x</span><span class="hljs-number">02</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">7</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xc<span class="hljs-number">4</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xf<span class="hljs-number">2</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xb<span class="hljs-number">5</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xec\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xea\<span class="hljs-keyword">x</span><span class="hljs-number">07</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">4</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xed\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">3</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xea\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">6</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xda\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xf<span class="hljs-number">8</span>\<span class="hljs-keyword">x</span><span class="hljs-number">07</span>\<span class="hljs-keyword">x</span><span class="hljs-number">05</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">0</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xea\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">8</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xd<span class="hljs-number">2</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xcb\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xd<span class="hljs-number">6</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">5</span>\<span class="hljs-keyword">x</span><span class="hljs-number">06</span>\xe<span class="hljs-number">8</span>\xfaZ&#x27;</code></pre></div>
<p>I'm pretty sure the start being <code class="inline-code">0x0E</code> is erroneous . This is a bad header because it can show up in normal operation. example <code class="inline-code">0x0E 0x0E</code> if a valid 4 bytes of digitized data. If we could assume there are exactly 72 bytes preceeding the trailer word <code class="inline-code">0xFA 0x5A</code> (which prints out as <code class="inline-code">xfaZ</code> becuase <code class="inline-code">0x5A</code> is the unicode character for <code class="inline-code">Z</code>), then this wouldn't be a problem. However, becuase <code class="inline-code">b&quot;\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;</code> are randomly crammed in the data sometimes, we can't do that. I.e. there could be a case where we see <code class="inline-code">0x0E</code> and <code class="inline-code">0xFA 0x5A</code> seperated by exactly 72 bytes, but <code class="inline-code">0x0E</code> actually corresponds to data, not a header word.</p>
<p>If this header word was <code class="inline-code">0xE0</code>, we could get around this problem, because <code class="inline-code">b&quot;\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;</code> only shifts the data by an even amount, and while <code class="inline-code">0xE0</code> can show up naturally in odd bytes, it cannot in even bytes (All data is 12 bytes and must start with <code class="inline-code">0</code>, so the even &quot;data&quot; bytes must start with <code class="inline-code">0</code>). This would mean we could look for the trailer word <code class="inline-code">0xFA 0x5A</code> and look backwards <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">72 + 16\cdot m</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>72</mn><mo>+</mo><mn>16</mn><mo>⋅</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">72 + 16\cdot m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.7278em;vertical-align:-0.0833em;"></span><span class="mord">72</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> bytes where <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">m</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> is some integer. Eventually we would find a <code class="inline-code">0xE0</code>. Unless 	<code class="inline-code">b&quot;\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;</code> can show up between the two trailer bytes <code class="inline-code">0xFA 0x5A</code>, then we'd have a problem.</p>
<p>All this is to say is seems the only solution is to scrub all occurences of <code class="inline-code">b&quot;\x04\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00&quot;</code> out before splitting the data into packets, which causes the efficiency to take a hit, but the results seem to indicate this cleans the data up:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Total packets: 13837
Skipped packets: 1
Error Percentage: 0.01%</pre><pre class="hljs"><code>Total packets: 13837
Skipped packets: 1
<span class="hljs-keyword">Error </span>Percentage: 0.01%</code></pre></div>
<p>Where the last packet is skipped because it's cut off.</p>
<hr>
<h2 id="10022025-1320">10/02/2025 13:20</h2>
<p>Python can handle parsing packets in a more efficient &quot;chopping&quot; manner at around 16 MB/s. Still way too slow, C++ is needed.</p>
<p><img src="../_resources/cd8ec8107b3e4dde8f57e30e337b9d35.png" alt="917dea5b4f32980efe6a7605b8aba2e0.png"></p>
<hr>
<h2 id="13022025-1945">13/02/2025 19:45</h2>
<p><strong>Note:</strong> when I say &quot;error bytes&quot; I mean the sequence:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">vector&lt;unsigned char&gt; error_bytes = {
    0x04, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00,
    0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00, 0x00
};</pre><pre class="hljs"><code>vector&lt;<span class="hljs-type">unsigned</span> <span class="hljs-type">char</span>&gt; error_bytes = {
    <span class="hljs-number">0x04</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>,
    <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>, <span class="hljs-number">0x00</span>
};</code></pre></div>
<p>that shows up seemingly &quot;randomly&quot; in data packets.</p>
<p>I was able to very slightly speed things up (~20%) by only &quot;scrubbing&quot; packets that have errors as opposed to the whole bytestream. The splitting into packets algorithm is now the bottleneck because it has to go through a series of steps to clean up errors. It goes like this:</p>
<ol>
<li><strong>Setup:</strong> Scrub the first N (=200 seems sufficient) bytes by removing the error bytes. Find the first occurence of the end word. Verify the start index is 1 packet length behind the end word (if not search for the next occurence of the end word and repeat). This is your first packet. This should only be necessary for the very first packet received in a run.</li>
<li><strong>Standard operation:</strong> For subsequent packets, we know the index should be set at the end of the last packet, so we skip one packet length ahead to check if the stop word is there. If the stop word is there, we add the packet and continue to the next.</li>
<li><strong>Fast error correction:</strong> If the stop word isn't  there, we begin a error correcting sequence. We again search for the stop word <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">\text{packet length} + 16\cdot m</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>packet length</mtext><mo>+</mo><mn>16</mn><mo>⋅</mo><mi>m</mi></mrow><annotation encoding="application/x-tex">\text{packet length} + 16\cdot m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.8889em;vertical-align:-0.1944em;"></span><span class="mord text"><span class="mord">packet length</span></span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">+</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.6444em;"></span><span class="mord">16</span><span class="mspace" style="margin-right:0.2222em;"></span><span class="mbin">⋅</span><span class="mspace" style="margin-right:0.2222em;"></span></span><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> bytes away where <span class="joplin-editable"><span class="joplin-source" data-joplin-language="katex" data-joplin-source-open="$" data-joplin-source-close="$">m</span><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mi>m</mi></mrow><annotation encoding="application/x-tex">m</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.4306em;"></span><span class="mord mathnormal">m</span></span></span></span></span> is an integer. The errors come in 16 byte sequences, so the stop word should only be displaced by 16 bytes. We move in steps of 16 up to some threshold number of times (default 5). Once we find the stop word, we scrub the bytes between this stop word and the previous, take the final <code class="inline-code">packet_length</code> bytes, and append the packet to list of split packets, then go back to step 2.</li>
<li><strong>Brute force error correction:</strong> If the fast error correction fails, we indefintely search for the next stop word by moving 1 byte at a time. This is slow, but guarentees we find the next stop word if it's there. Once we find the stop word, we scrub the bytes between this stop word and the previous, take the final <code class="inline-code">packet_length</code> bytes, and append the packet to list of split packets, then go back to step 2..</li>
</ol>
<p><strong>Old Performance Example:</strong></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">(base) jack@DESKTOP-FFN8B5L:~/cpp_projects/nalu_packet_collection_test/scripts$ ./run_test.sh
Running the executable...

--- General Processing Stats ---
Time taken to read binary file: 0.000708517 seconds
Time taken to scrub byte stream: 0.00535157 seconds
Time taken to split packets: 0.00218371 seconds
Time taken to parse packets: 0.000847597 seconds

--- Standard Event Collection ---
Collected events: 15
Time taken to collect events (standard mode): 0.00327157 seconds
Event lengths (packets per event):
  Event 14: 800 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 992 packets
  Event 0: 140 packets

--- Lazy Mode Event Collection ---
Collected events: 15
Time taken to collect events (lazy mode): 0.00103559 seconds
Event lengths (packets per event):
  Event 15: 800 packets
  Event 14: 992 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 140 packets

--- Data Rates ---
Standard Mode:
  Total processing time: 0.012363 seconds
  Full data rate: 76.8459 MB/s
  True data rate: 51.2306 MB/s

Lazy Mode:
  Total processing time: 0.010127 seconds
  Full data rate: 93.813 MB/s
  True data rate: 62.542 MB/s</pre><pre class="hljs"><code>(base) jack@DESKTOP-FFN8B5L:~/cpp_projects/nalu_packet_collection_test/scripts$ ./run_test.sh
Running the executable...

--- General Processing Stats ---
Time taken to read binary file: 0.000708517 seconds
Time taken to scrub byte stream: 0.00535157 seconds
Time taken to split packets: 0.00218371 seconds
Time taken to parse packets: 0.000847597 seconds

--- Standard Event Collection ---
Collected events: 15
Time taken to collect events (standard mode): 0.00327157 seconds
Event lengths (packets per event):
  Event 14: 800 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 992 packets
  Event 0: 140 packets

--- Lazy Mode Event Collection ---
Collected events: 15
Time taken to collect events (lazy mode): 0.00103559 seconds
Event lengths (packets per event):
  Event 15: 800 packets
  Event 14: 992 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 140 packets

--- Data Rates ---
Standard Mode:
  Total processing time: 0.012363 seconds
  Full data rate: 76.8459 MB/s
  True data rate: 51.2306 MB/s

Lazy Mode:
  Total processing time: 0.010127 seconds
  Full data rate: 93.813 MB/s
  True data rate: 62.542 MB/s</code></pre></div>
<p><strong>New Performance Example:</strong></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">(base) jack@DESKTOP-FFN8B5L:~/cpp_projects/nalu_packet_collection_test/scripts$ ./run_test.sh
Running the executable...

--- General Processing Stats ---
Time taken to read binary file: 0.000612517 seconds
Time taken to split packets: 0.00529511 seconds
Time taken to parse packets: 0.000746628 seconds

--- Standard Event Collection ---
Collected events: 15
Time taken to collect events (standard mode): 0.00282787 seconds
Event lengths (packets per event):
  Event 14: 800 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 992 packets
  Event 0: 139 packets

--- Lazy Mode Event Collection ---
Collected events: 15
Time taken to collect events (lazy mode): 0.00103136 seconds
Event lengths (packets per event):
  Event 15: 800 packets
  Event 14: 992 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 139 packets

--- Data Rates ---
Standard Mode:
  Total processing time: 0.00948212 seconds
  Full data rate: 100.186 MB/s
  True data rate: 66.7905 MB/s

Lazy Mode:
  Total processing time: 0.00768562 seconds
  Full data rate: 123.604 MB/s
  True data rate: 82.4027 MB/s</pre><pre class="hljs"><code>(base) jack@DESKTOP-FFN8B5L:~/cpp_projects/nalu_packet_collection_test/scripts$ ./run_test.sh
Running the executable...

--- General Processing Stats ---
Time taken to read binary file: 0.000612517 seconds
Time taken to split packets: 0.00529511 seconds
Time taken to parse packets: 0.000746628 seconds

--- Standard Event Collection ---
Collected events: 15
Time taken to collect events (standard mode): 0.00282787 seconds
Event lengths (packets per event):
  Event 14: 800 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 992 packets
  Event 0: 139 packets

--- Lazy Mode Event Collection ---
Collected events: 15
Time taken to collect events (lazy mode): 0.00103136 seconds
Event lengths (packets per event):
  Event 15: 800 packets
  Event 14: 992 packets
  Event 13: 992 packets
  Event 12: 992 packets
  Event 11: 992 packets
  Event 10: 992 packets
  Event 9: 992 packets
  Event 8: 992 packets
  Event 7: 992 packets
  Event 6: 992 packets
  Event 5: 992 packets
  Event 4: 992 packets
  Event 3: 992 packets
  Event 2: 992 packets
  Event 1: 139 packets

--- Data Rates ---
Standard Mode:
  Total processing time: 0.00948212 seconds
  Full data rate: 100.186 MB/s
  True data rate: 66.7905 MB/s

Lazy Mode:
  Total processing time: 0.00768562 seconds
  Full data rate: 123.604 MB/s
  True data rate: 82.4027 MB/s</code></pre></div>
<hr>
<h2 id="13022025-2145">13/02/2025 21:45</h2>
<p>It seems there are other types of &quot;error byte&quot; sequences, take this for example:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">(base) jack@DESKTOP-FFN8B5L:~/cpp_projects/nalu_packet_collection_test/scripts$ ./run_test.sh
Running the executable...
Malformed packet at: 88366
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 176766
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 265166
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 353566
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 443018
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 532458
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 621898
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 711338
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 800778
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 890218
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 979658
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a</pre><pre class="hljs"><code>(base) jack@DESKTOP-FFN8B5L:~/cpp_projects/nalu_packet_collection_test/scripts$ ./run_test.sh
Running the executable...
Malformed packet at: 88366
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 176766
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 265166
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 353566
Malformed packet length: 90 bytes
Malformed packet bytes: e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 443018
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 532458
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 621898
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 711338
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 800778
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 890218
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a
Malformed packet at: 979658
Malformed packet length: 78 bytes
Malformed packet bytes: e 0 0 c0 e 0 f 49 d 65 0 1d 5 d8 5 e7 5 df 5 eb 5 c2 5 d1 5 d4 5 be 5 d0 5 d2 5 ce 5 bb 5 b8 5 ba 5 c8 5 d6 5 b8 5 e2 5 d9 5 cd 5 d1 5 d1 5 d8 5 ec 5 e4 5 a4 5 ca 5 b8 5 d6 5 ce 5 d1 6 17 fa 5a</code></pre></div>
<p>There are two error cases here:</p>
<ol>
<li>Extra byte sequence: <code class="inline-code">e 0 0 bc 3 57 0 37 5 a0 5 e6 5 be 5 ea</code> at the begininning</li>
<li>Extra byte sequence <code class="inline-code">e 0 0 bc</code> at the beginning</li>
</ol>
<p>We can correct this by additionally scrubbing for these, but it seems like an exercise in futility if I can't identify every possible error...</p>
<hr>
<h2 id="13022025-2150">13/02/2025 21:50</h2>
<p>Here's an additional malformed packet where I have no idea what's wrong</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Malformed packet at: 629116
Malformed packet length: 140 bytes
Malformed packet bytes: e 0 f b 9 1 0 2e 6 6 5 b8 5 c2 5 e6 5 d8 5 ee 5 e5 5 e4 5 d5 5 e2 5 d8 5 da 5 b8 5 d3 5 b1 5 c5 5 c7 5 d5 5 d3 5 c4 5 fd 5 f2 5 bd 5 ee 5 d4 5 e7 5 dc 5 d2 5 d7 e 0 d b1 c c9 0 1 5 d6 5 ee 5 e2 5 eb 5 e0 5 e9 5 ca 5 c9 5 ce 5 d2 5 dd 5 ea 5 c2 5 c4 5 db 5 ee 5 dc 5 fe 5 e0 5 d6 5 d4 5 d1 5 f2 5 f6 5 f0 5 fd 5 d0 5 d6 5 f0 5 ec 5 e2 6 8 fa 5a</pre><pre class="hljs"><code><span class="hljs-attribute">Malformed</span> packet at: <span class="hljs-number">629116</span>
<span class="hljs-attribute">Malformed</span> packet length: <span class="hljs-number">140</span> bytes
<span class="hljs-attribute">Malformed</span> packet bytes: e <span class="hljs-number">0</span> f b <span class="hljs-number">9</span> <span class="hljs-number">1</span> <span class="hljs-number">0</span> <span class="hljs-number">2</span>e <span class="hljs-number">6</span> <span class="hljs-number">6</span> <span class="hljs-number">5</span> b8 <span class="hljs-number">5</span> c2 <span class="hljs-number">5</span> e6 <span class="hljs-number">5</span> d8 <span class="hljs-number">5</span> ee <span class="hljs-number">5</span> e5 <span class="hljs-number">5</span> e4 <span class="hljs-number">5</span> d5 <span class="hljs-number">5</span> e2 <span class="hljs-number">5</span> d8 <span class="hljs-number">5</span> da <span class="hljs-number">5</span> b8 <span class="hljs-number">5</span> d3 <span class="hljs-number">5</span> b1 <span class="hljs-number">5</span> c5 <span class="hljs-number">5</span> c7 <span class="hljs-number">5</span> d5 <span class="hljs-number">5</span> d3 <span class="hljs-number">5</span> c4 <span class="hljs-number">5</span> fd <span class="hljs-number">5</span> f2 <span class="hljs-number">5</span> bd <span class="hljs-number">5</span> ee <span class="hljs-number">5</span> d4 <span class="hljs-number">5</span> e7 <span class="hljs-number">5</span> dc <span class="hljs-number">5</span> d2 <span class="hljs-number">5</span> d7 e <span class="hljs-number">0</span> d b1 c c9 <span class="hljs-number">0</span> <span class="hljs-number">1</span> <span class="hljs-number">5</span> d6 <span class="hljs-number">5</span> ee <span class="hljs-number">5</span> e2 <span class="hljs-number">5</span> eb <span class="hljs-number">5</span> e0 <span class="hljs-number">5</span> e9 <span class="hljs-number">5</span> ca <span class="hljs-number">5</span> c9 <span class="hljs-number">5</span> ce <span class="hljs-number">5</span> d2 <span class="hljs-number">5</span> dd <span class="hljs-number">5</span> ea <span class="hljs-number">5</span> c2 <span class="hljs-number">5</span> c4 <span class="hljs-number">5</span> db <span class="hljs-number">5</span> ee <span class="hljs-number">5</span> dc <span class="hljs-number">5</span> fe <span class="hljs-number">5</span> e0 <span class="hljs-number">5</span> d6 <span class="hljs-number">5</span> d4 <span class="hljs-number">5</span> d1 <span class="hljs-number">5</span> f2 <span class="hljs-number">5</span> f6 <span class="hljs-number">5</span> f0 <span class="hljs-number">5</span> fd <span class="hljs-number">5</span> d0 <span class="hljs-number">5</span> d6 <span class="hljs-number">5</span> f0 <span class="hljs-number">5</span> ec <span class="hljs-number">5</span> e2 <span class="hljs-number">6</span> <span class="hljs-number">8</span> fa <span class="hljs-number">5</span>a</code></pre></div>
<p>These additional cases</p>
<hr>
<h2 id="13022025-2215">13/02/2025 22:15</h2>
<p>I think I was able to get around bytes being jammed in between packets with this function</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">void handle_scrubbed_segment(std::vector&lt;uint8_t&gt;&amp; scrubbed_segment, 
                             std::vector&lt;std::vector&lt;uint8_t&gt;&gt;&amp; packets, 
                             size_t error_packet_start, 
                             size_t expected_size, 
                             uint8_t start_marker) {
    // Compute the start index where the expected start word should be
    size_t start_index = scrubbed_segment.size() - expected_size;

    // Check if the start word is present at the computed start index
    if (scrubbed_segment[start_index] == start_marker) {
        packets.emplace_back(scrubbed_segment.begin() + start_index, scrubbed_segment.end());
        return;
    }

    // Handle malformed packet case
    std::cerr &lt;&lt; &quot;Malformed packet at: &quot; &lt;&lt; error_packet_start
              &lt;&lt; &quot;\nMalformed packet length: &quot; &lt;&lt; scrubbed_segment.size() &lt;&lt; &quot; bytes&quot;
              &lt;&lt; &quot;\nMalformed packet bytes: &quot;;

    // Use a single loop with a range-based for and output formatting
    for (uint8_t byte : scrubbed_segment) {
        std::cerr &lt;&lt; std::hex &lt;&lt; static_cast&lt;int&gt;(byte) &lt;&lt; &quot; &quot;;
    }
    std::cerr &lt;&lt; std::dec &lt;&lt; std::endl;  // Reset to decimal
}</pre><pre class="hljs"><code>void handle_scrubbed_segment(std::vector&lt;uint8_t&gt;&amp; scrubbed_segment, 
                             std::vector&lt;std::vector&lt;uint8_t&gt;&gt;&amp; packets, 
                             size_t error_packet_start, 
                             size_t expected_size, 
                             uint8_t start_marker) {
    // Compute the start index where the expected start word should be
    size_t start_index = scrubbed_segment.size() - expected_size;

    // Check if the start word is present at the computed start index
    if (scrubbed_segment[start_index] == start_marker) {
        packets.emplace_back(scrubbed_segment.begin() + start_index, scrubbed_segment.end());
        return;
    }

    // Handle malformed packet case
    std::cerr &lt;&lt; &quot;Malformed packet at: &quot; &lt;&lt; error_packet_start
              &lt;&lt; &quot;\nMalformed packet length: &quot; &lt;&lt; scrubbed_segment.size() &lt;&lt; &quot; bytes&quot;
              &lt;&lt; &quot;\nMalformed packet bytes: &quot;;

    // Use a single loop with a range-based for and output formatting
    for (uint8_t byte : scrubbed_segment) {
        std::cerr &lt;&lt; std::hex &lt;&lt; static_cast&lt;int&gt;(byte) &lt;&lt; &quot; &quot;;
    }
    std::cerr &lt;&lt; std::dec &lt;&lt; std::endl;  // Reset to decimal
}</code></pre></div>
<p>Basically after scrubbing, we just return the 74 (or packet size) bytes that correspond to the packet. I.e. any extra bytes at the beginning of the &quot;packet&quot; are ignored.</p>
<hr>
<h2 id="13022025-2221">13/02/2025 22:21</h2>
<p>In one of my files, there is a packet that is repeated, but doesn't get matched to any event (perhaps there's another copy somewhere actually in an event?)</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">Sample Incorrect Events:
Event 272 (1 packets): Packet 0 { Ch: 0, Time: 15776001, Logical: 0, Physical: 45, Index: 16741, Samples: [ Samples: [ 1543, 1515, 1496, 1526, 1530, 1522, 1512, 1520, 1524, 1525, 1506, 1516, 1497, 1493, 1483, 1488, 1516, 1533, 1519, 1488, 1511, 1487, 1512, 1518, 1516, 1489, 1524, 1467, 1472, 1491, 1480, 1521 ], Footer: [ 250, 90 ] }

Event 136 (1 packets): Packet 0 { Ch: 0, Time: 15776001, Logical: 0, Physical: 45, Index: 8370, Samples: [ Samples: [ 1543, 1515, 1496, 1526, 1530, 1522, 1512, 1520, 1524, 1525, 1506, 1516, 1497, 1493, 1483, 1488, 1516, 1533, 1519, 1488, 1511, 1487, 1512, 1518, 1516, 1489, 1524, 1467, 1472, 1491, 1480, 1521 ], Footer: [ 250, 90 ] }</pre><pre class="hljs"><code><span class="hljs-attr">Sample Incorrect Events:</span>
<span class="hljs-attr">Event 272 (1 packets):</span> <span class="hljs-string">Packet</span> <span class="hljs-number">0</span> { <span class="hljs-attr">Ch:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">Time:</span> <span class="hljs-number">15776001</span>, <span class="hljs-attr">Logical:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">Physical:</span> <span class="hljs-number">45</span>, <span class="hljs-attr">Index:</span> <span class="hljs-number">16741</span>, <span class="hljs-attr">Samples:</span> [ <span class="hljs-attr">Samples:</span> [ <span class="hljs-number">1543</span>, <span class="hljs-number">1515</span>, <span class="hljs-number">1496</span>, <span class="hljs-number">1526</span>, <span class="hljs-number">1530</span>, <span class="hljs-number">1522</span>, <span class="hljs-number">1512</span>, <span class="hljs-number">1520</span>, <span class="hljs-number">1524</span>, <span class="hljs-number">1525</span>, <span class="hljs-number">1506</span>, <span class="hljs-number">1516</span>, <span class="hljs-number">1497</span>, <span class="hljs-number">1493</span>, <span class="hljs-number">1483</span>, <span class="hljs-number">1488</span>, <span class="hljs-number">1516</span>, <span class="hljs-number">1533</span>, <span class="hljs-number">1519</span>, <span class="hljs-number">1488</span>, <span class="hljs-number">1511</span>, <span class="hljs-number">1487</span>, <span class="hljs-number">1512</span>, <span class="hljs-number">1518</span>, <span class="hljs-number">1516</span>, <span class="hljs-number">1489</span>, <span class="hljs-number">1524</span>, <span class="hljs-number">1467</span>, <span class="hljs-number">1472</span>, <span class="hljs-number">1491</span>, <span class="hljs-number">1480</span>, <span class="hljs-number">1521</span> ], <span class="hljs-attr">Footer:</span> [ <span class="hljs-number">250</span>, <span class="hljs-number">90</span> ] }

<span class="hljs-attr">Event 136 (1 packets):</span> <span class="hljs-string">Packet</span> <span class="hljs-number">0</span> { <span class="hljs-attr">Ch:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">Time:</span> <span class="hljs-number">15776001</span>, <span class="hljs-attr">Logical:</span> <span class="hljs-number">0</span>, <span class="hljs-attr">Physical:</span> <span class="hljs-number">45</span>, <span class="hljs-attr">Index:</span> <span class="hljs-number">8370</span>, <span class="hljs-attr">Samples:</span> [ <span class="hljs-attr">Samples:</span> [ <span class="hljs-number">1543</span>, <span class="hljs-number">1515</span>, <span class="hljs-number">1496</span>, <span class="hljs-number">1526</span>, <span class="hljs-number">1530</span>, <span class="hljs-number">1522</span>, <span class="hljs-number">1512</span>, <span class="hljs-number">1520</span>, <span class="hljs-number">1524</span>, <span class="hljs-number">1525</span>, <span class="hljs-number">1506</span>, <span class="hljs-number">1516</span>, <span class="hljs-number">1497</span>, <span class="hljs-number">1493</span>, <span class="hljs-number">1483</span>, <span class="hljs-number">1488</span>, <span class="hljs-number">1516</span>, <span class="hljs-number">1533</span>, <span class="hljs-number">1519</span>, <span class="hljs-number">1488</span>, <span class="hljs-number">1511</span>, <span class="hljs-number">1487</span>, <span class="hljs-number">1512</span>, <span class="hljs-number">1518</span>, <span class="hljs-number">1516</span>, <span class="hljs-number">1489</span>, <span class="hljs-number">1524</span>, <span class="hljs-number">1467</span>, <span class="hljs-number">1472</span>, <span class="hljs-number">1491</span>, <span class="hljs-number">1480</span>, <span class="hljs-number">1521</span> ], <span class="hljs-attr">Footer:</span> [ <span class="hljs-number">250</span>, <span class="hljs-number">90</span> ] }</code></pre></div>
<p>The index here shows that they were processed over 8000 packets away from each other, so there is no expected reason they're duplicate like that.</p>
<p>Once I build the full collector class, this will be the type of events to be binned in &quot;errors&quot; somehow.</p>
<hr>
<h2 id="13022025-2238">13/02/2025 22:38</h2>
<p>If the error correcting could somehow be avoided, I could probably speed things up by a factor of 2; i.e. the collector would be the bottleneck.  But for now we'll have to settle for ~100 MB/s.</p>
<hr>
<h2 id="15022025-1754">15/02/2025 17:54</h2>
<p>I was a bit suspicious adding an error code may slow things down, so I tested. Basically, testing the difference between doing something like:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">uint8_t error_code = 0;  // Calculate or assign the error code

// Create a vector with space for the error code + packet data
std::vector&lt;uint8_t&gt; packet_data(packet_size + 1);

// Set the error code at the beginning
packet_data[0] = error_code;

// Copy the packet data into the remaining space
std::memcpy(packet_data.data() + 1, processed_stream.data() + start_index, packet_size);

// Emplace the packet with the error code at the beginning
packets.emplace_back(std::move(packet_data));
</pre><pre class="hljs"><code><span class="hljs-type">uint8_t</span> error_code = <span class="hljs-number">0</span>;  <span class="hljs-comment">// Calculate or assign the error code</span>

<span class="hljs-comment">// Create a vector with space for the error code + packet data</span>
<span class="hljs-function">std::vector&lt;<span class="hljs-type">uint8_t</span>&gt; <span class="hljs-title">packet_data</span><span class="hljs-params">(packet_size + <span class="hljs-number">1</span>)</span></span>;

<span class="hljs-comment">// Set the error code at the beginning</span>
packet_data[<span class="hljs-number">0</span>] = error_code;

<span class="hljs-comment">// Copy the packet data into the remaining space</span>
std::<span class="hljs-built_in">memcpy</span>(packet_data.<span class="hljs-built_in">data</span>() + <span class="hljs-number">1</span>, processed_stream.<span class="hljs-built_in">data</span>() + start_index, packet_size);

<span class="hljs-comment">// Emplace the packet with the error code at the beginning</span>
packets.<span class="hljs-built_in">emplace_back</span>(std::<span class="hljs-built_in">move</span>(packet_data));
</code></pre></div>
<p>versus:</p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">packets.emplace_back(processed_stream.begin() + start_index, processed_stream.begin() + i + 2);</pre><pre class="hljs"><code>packets.emplace_back(processed_stream.<span class="hljs-keyword">begin</span>() + start_index, processed_stream.<span class="hljs-keyword">begin</span>() + i + <span class="hljs-number">2</span>);</code></pre></div>
<p><strong>Error code appending (two tests):</strong></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">
1.
--- General Processing Stats ---
Time taken to read binary file: 0.000748234 seconds
Time taken to split packets: 0.00657799 seconds
Time taken to parse packets: 0.000870217 seconds

--- Data Rates ---
Standard Mode:
  Total processing time: 0.0118354 seconds
  Full data rate: 97.131 MB/s
  True data rate: 64.754 MB/s

Lazy Mode:
  Total processing time: 0.00944776 seconds
  Full data rate: 121.678 MB/s
  True data rate: 81.1185 MB/s

2.
--- General Processing Stats ---
Time taken to read binary file: 0.000839936 seconds
Time taken to split packets: 0.0070777 seconds
Time taken to parse packets: 0.00091615 seconds


--- Data Rates ---
Standard Mode:
  Total processing time: 0.0125845 seconds
  Full data rate: 91.3487 MB/s
  True data rate: 60.8992 MB/s

Lazy Mode:
  Total processing time: 0.0101386 seconds
  Full data rate: 113.387 MB/s
  True data rate: 75.5913 MB/s</pre><pre class="hljs"><code>
<span class="hljs-number">1.</span>
<span class="hljs-comment">--- General Processing Stats ---</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">read</span> binary <span class="hljs-built_in">file</span>: <span class="hljs-number">0.000748234</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">split</span> packets: <span class="hljs-number">0.00657799</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> parse packets: <span class="hljs-number">0.000870217</span> <span class="hljs-built_in">seconds</span>

<span class="hljs-comment">--- Data Rates ---</span>
Standard Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.0118354</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">97.131</span> MB/s
  True data rate: <span class="hljs-number">64.754</span> MB/s

Lazy Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.00944776</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">121.678</span> MB/s
  True data rate: <span class="hljs-number">81.1185</span> MB/s

<span class="hljs-number">2.</span>
<span class="hljs-comment">--- General Processing Stats ---</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">read</span> binary <span class="hljs-built_in">file</span>: <span class="hljs-number">0.000839936</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">split</span> packets: <span class="hljs-number">0.0070777</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> parse packets: <span class="hljs-number">0.00091615</span> <span class="hljs-built_in">seconds</span>


<span class="hljs-comment">--- Data Rates ---</span>
Standard Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.0125845</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">91.3487</span> MB/s
  True data rate: <span class="hljs-number">60.8992</span> MB/s

Lazy Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.0101386</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">113.387</span> MB/s
  True data rate: <span class="hljs-number">75.5913</span> MB/s</code></pre></div>
<p><strong>Not appending error codes (two tests):</strong></p>
<div class="joplin-editable"><pre class="joplin-source" data-joplin-language="" data-joplin-source-open="```&#10;" data-joplin-source-close="&#10;```">1.
--- General Processing Stats ---
Time taken to read binary file: 0.0015994 seconds
Time taken to split packets: 0.00754936 seconds
Time taken to parse packets: 0.0011617 seconds

--- Data Rates ---
Standard Mode:
  Total processing time: 0.0142625 seconds
  Full data rate: 80.6016 MB/s
  True data rate: 53.7344 MB/s

Lazy Mode:
  Total processing time: 0.0116362 seconds
  Full data rate: 98.7939 MB/s
  True data rate: 65.8626 MB/s

2.
--- General Processing Stats ---
Time taken to read binary file: 0.000951511 seconds
Time taken to split packets: 0.00735596 seconds
Time taken to parse packets: 0.00112426 seconds

--- Data Rates ---
Standard Mode:
  Total processing time: 0.0133406 seconds
  Full data rate: 86.1719 MB/s
  True data rate: 57.448 MB/s

Lazy Mode:
  Total processing time: 0.0108559 seconds
  Full data rate: 105.895 MB/s
  True data rate: 70.5964 MB/s</pre><pre class="hljs"><code><span class="hljs-number">1.</span>
<span class="hljs-comment">--- General Processing Stats ---</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">read</span> binary <span class="hljs-built_in">file</span>: <span class="hljs-number">0.0015994</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">split</span> packets: <span class="hljs-number">0.00754936</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> parse packets: <span class="hljs-number">0.0011617</span> <span class="hljs-built_in">seconds</span>

<span class="hljs-comment">--- Data Rates ---</span>
Standard Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.0142625</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">80.6016</span> MB/s
  True data rate: <span class="hljs-number">53.7344</span> MB/s

Lazy Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.0116362</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">98.7939</span> MB/s
  True data rate: <span class="hljs-number">65.8626</span> MB/s

<span class="hljs-number">2.</span>
<span class="hljs-comment">--- General Processing Stats ---</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">read</span> binary <span class="hljs-built_in">file</span>: <span class="hljs-number">0.000951511</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> <span class="hljs-built_in">split</span> packets: <span class="hljs-number">0.00735596</span> <span class="hljs-built_in">seconds</span>
Time taken <span class="hljs-built_in">to</span> parse packets: <span class="hljs-number">0.00112426</span> <span class="hljs-built_in">seconds</span>

<span class="hljs-comment">--- Data Rates ---</span>
Standard Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.0133406</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">86.1719</span> MB/s
  True data rate: <span class="hljs-number">57.448</span> MB/s

Lazy Mode:
  Total processing <span class="hljs-built_in">time</span>: <span class="hljs-number">0.0108559</span> <span class="hljs-built_in">seconds</span>
  Full data rate: <span class="hljs-number">105.895</span> MB/s
  True data rate: <span class="hljs-number">70.5964</span> MB/s</code></pre></div>
<p>In conclusion, it doesn't appear adding the error code causes any slowdown.</p>
<hr>
</div></div>
					</body>
				</html>
			